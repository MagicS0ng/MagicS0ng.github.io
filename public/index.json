[{"content":"è‡ªæˆ‘ä»‹ç» C++ i++ ,++i i++æ˜¯å³å€¼ï¼Œ++iæ˜¯å·¦å€¼ å¦‚æœåœ¨ä¸€æ¡è¯­å¥å†…æ‰§è¡Œi++, ä¼šå…ˆè·å–içš„å€¼ï¼Œç„¶åæ‰§è¡Œè¯­å¥ï¼Œæ‰§è¡Œç»“æŸåiè‡ªå¢1 å¦‚æœåœ¨ä¸€æ¡è¯­å¥å†…æ‰§è¡Œ++i, ä¼šå…ˆå¯¹iè‡ªå¢1ï¼Œç„¶åæ‰§è¡Œè¯­å¥ è¡¥å……ï¼šä¸€èˆ¬æ¥è®²ï¼Œi++ çš„æ‰§è¡Œæ“ä½œä¸ºï¼šä½¿ç”¨ä¸´æ—¶å¯¹è±¡ä¿å­˜içš„å€¼ï¼Œç„¶åæ‰§è¡Œi+1ï¼Œè¿”å›ä¸´æ—¶å¯¹è±¡ï¼›++i ç›´æ¥å¯¹iè‡ªå¢ï¼Œä¸æ¶‰åŠä¸´æ—¶å˜é‡ for-loop for(int i = 0;i\u0026lt;10;i++/++i\u0026gt;): ++i ä¸i++ è¾“å‡ºiï¼Œç»“æœä¸€è‡´å—ï¼Ÿ ä¸€è‡´\nfor()çš„ä½¿ç”¨\nforå¦‚æœä½¿ç”¨ä¹‹å‰å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥ç›´æ¥ä»¥for (;condition;expression) å¾ªç¯ï¼Œå¾ªç¯å¼€å§‹æ—¶ä¼šè·å–å˜é‡çš„åˆå§‹å€¼ï¼Œåˆ¤æ–­æœ¬æ¬¡æ‰§è¡Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œæ»¡è¶³åˆ™æ‰§è¡Œï¼Œæ‰§è¡Œå®Œå¾ªç¯ä½“ï¼Œå¾ªç¯å˜é‡æ›´æ–°ï¼Œä¸æ»¡è¶³åˆ™ç»“æŸå¾ªç¯ ä¹Ÿå¯ä»¥ä½¿ç”¨for(init;condition;expression) 3. å…¶ä»–æƒ³åˆ°çš„è¡¥å……ï¼š\nå¯¹è±¡åˆå§‹åŒ– å›ç­”ä¼šæ ¹æ®ä¼ é€’çš„å‚æ•°ï¼Œè°ƒç”¨ä¸åŒçš„é‡è½½ã€‚ä¹Ÿå¯ä»¥æ ¹æ®æˆå‘˜å˜æˆï¼Œéšå¼æ„é€ ï¼›ä¹Ÿå¯ä»¥å°†æ„é€ å‡½æ•°å£°æ˜ä¸ºexplicitçš„ï¼Œç¦æ­¢éšå¼æ„é€ ã€‚ é¢è¯•å®˜é—®è¿˜æœ‰å—ï¼Ÿä¸çŸ¥é“é—®çš„ä»€ä¹ˆï¼Œç„¶åç»§ç»­é—®äº†è™šå‡½æ•°ã€‚\nè™šå‡½æ•° æˆå‘˜å‡½æ•°ï¼Œé€šè¿‡virtualä¿®é¥°ï¼Œå­ç±»ç»§æ‰¿æ—¶å¯ä»¥é€‰æ‹©æ˜¯å¦é‡è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡virtual æˆå‘˜å‡½æ•°=0çš„æ–¹å¼å£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œå­ç±»å¿…é¡»é‡è½½ã€‚ å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œæ„é€ å­ç±»æ—¶éœ€è¦å…ˆæ„é€ çˆ¶ç±»ï¼Œææ„æ—¶é€šè¿‡å£°æ˜çˆ¶ç±»ææ„ä¸ºvirtualï¼Œå…ˆææ„å­ç±»ï¼Œåææ„çˆ¶ç±»ã€‚ è¡¥å……ï¼š\nçº¯è™šå‡½æ•°çš„çˆ¶ç±»ä¸ºè™šåŸºç±»ï¼Œæ— æ³•å®ä¾‹åŒ–ã€‚ å¦‚æœæ„é€ å‡½æ•°ä¸­åŒ…å«è™šå‡½æ•°ï¼Œå› ä¸ºå­ç±»è¿˜æ²¡æœ‰æ„é€ ï¼Œæ²¡æœ‰è™šå‡½æ•°æŒ‡é’ˆï¼Œå› æ­¤ä¼šè°ƒç”¨çˆ¶ç±»çš„è™šå‡½æ•°ã€‚ è™šå‡½æ•°ï¼Œæˆå‘˜å‡½æ•°ä¼šå­˜å‚¨åœ¨ä»£ç æ®µï¼Œè™šå‡½æ•°è¡¨å­˜å‚¨åœ¨rodataæ®µ åœ¨ææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼šåŸºç±»ææ„å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ï¼Œè™šå‡½æ•°è¡¨çš„æŒ‡é’ˆå¯èƒ½ä¸å†æœ‰æ•ˆï¼Œå¯¼è‡´è™šå‡½æ•°è°ƒç”¨çš„è¡Œä¸ºä¸å¯é¢„æµ‹ã€‚ inline å› ä¸ºinlineä¼šåŸåœ°å±•å¼€ï¼Œæ²¡æœ‰å…·ä½“çš„åœ°å€ï¼Œæ— æ³•é€šè¿‡æŒ‡é’ˆè®¿é—® staticå‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼Œstaticæˆå‘˜å‡½æ•°æ˜¯ç±»çº§åˆ«çš„ï¼Œæ— æ³•é€šè¿‡å¤šæ€è°ƒç”¨ã€‚ å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„é™æ€èµ„æºï¼Œåªè¦å­ç±»æœ‰è®¿é—®æƒé™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 #include \u0026lt;iostream\u0026gt; class Base { public: static int x; public: static void staticFunction() { std::cout \u0026lt;\u0026lt; \u0026#34;Base static function\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int Base::x = 30; class Derived : public Base { public: static int x; public: static void derivedStaticFunction() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived static function\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int Derived::x = 40; int main() { Base::staticFunction(); // è®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å‡½æ•° Derived::staticFunction(); // å­ç±»ä¹Ÿå¯ä»¥é€šè¿‡ç±»åè®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å‡½æ•° std::cout \u0026lt;\u0026lt; Base::x \u0026lt;\u0026lt; std::endl; // è®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å˜é‡ std::cout \u0026lt;\u0026lt; Derived::x \u0026lt;\u0026lt; std::endl; // è®¿é—®å­ç±»çš„é™æ€æˆå‘˜å˜é‡,åŒåèµ„æº ä¼˜å…ˆè¾“å‡ºå­ç±»çš„ } è¾“å‡º\n1 2 Base static function Base static function è™šå‡½æ•°æŒ‡é’ˆ è™šå‡½æ•°æŒ‡é’ˆå­˜åœ¨å¯¹è±¡ç©ºé—´å†…ï¼Œåªæœ‰åœ¨è°ƒç”¨æ—¶ï¼Œæ‰ä¼šé€šè¿‡è™šå‡½æ•°æŒ‡é’ˆï¼Œè®¿é—®è™šå‡½æ•°è¡¨ï¼Œè°ƒç”¨å¯¹åº”çš„è™šå‡½æ•°ã€‚\nnew delete, malloc free C++å¯ä»¥è§†ä½œCçš„è¶…é›†ï¼ŒC++ç»§æ‰¿äº†Cçš„mallocå’Œfree\nnew / delete new åŠ¨æ€ç”³è¯·å†…å­˜ï¼Œè¿”å›å¯¹åº”å¯¹è±¡ç±»å‹çš„æŒ‡é’ˆï¼Œ è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–ï¼Œè®¿é—®äº†å†…å­˜ï¼Œæ¶‰åŠåˆ°è™šå®åœ°å€å˜æ¢ ç”³è¯·å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸std::bad_allocã€‚ delete é‡Šæ”¾é€šè¿‡newç”³è¯·çš„ç©ºé—´ï¼› è°ƒç”¨ç±»çš„ææ„å‡½æ•° è¡¥å……ï¼šå¯ä»¥é€šè¿‡new(nothrow)è¿”å›ç©ºæŒ‡é’ˆ; newå’Œdeleteæ˜¯C++è¿ç®—ç¬¦å¯ä»¥é‡è½½ã€‚æ˜¯å¦è®¿é—®å†…å­˜å–å†³äºå…·ä½“çš„åˆå§‹åŒ–é€»è¾‘ï¼Œè™šå®åœ°å€å˜æ¢ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚ malloc / free malloc ç”³è¯·å†…å­˜ï¼Œè¿”å›voidç±»å‹çš„æŒ‡é’ˆï¼Œ ä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œå› æ­¤æ²¡æœ‰è®¿å­˜ ç”³è¯·å¤±è´¥ï¼Œè¿”å›NULL free é‡Šæ”¾é€šè¿‡mallocç”³è¯·çš„ç©ºé—´ï¼› è¡¥å……ï¼šmallocå’Œfreeæ˜¯Cçš„å‡½æ•°ã€‚ä¸æ”¯æŒé‡è½½ å†…å­˜å¸ƒå±€ æ ˆï¼š è‡ªåŠ¨ç®¡ç†ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè¶…å‡ºä½œç”¨åŸŸè‡ªå®šææ„ å †ï¼šæ‰‹åŠ¨ç®¡ç†ï¼Œé€šè¿‡è£¸æŒ‡é’ˆç”³è¯·æ—¶ï¼Œå¿…é¡»æ‰‹åŠ¨ææ„ï¼›ä¹Ÿå¯ä»¥é€šè¿‡æ™ºèƒ½æŒ‡é’ˆç®¡ç† å…¨å±€åŒºdataï¼šåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ ä»£ç åŒºtextï¼šä»£ç æ®µï¼Œå­˜å‚¨å‡½æ•°ï¼Œå’Œç±»çš„é™æ€æˆå‘˜å‡½æ•° bssåŒºï¼šæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œé»˜è®¤ä¸º0 rodataåŒºï¼šåªè¯»æ•°æ®ï¼Œå¸¸é‡ çº¿ç¨‹ è¿›ç¨‹åŒºåˆ« è¿›ç¨‹ è¿›ç¨‹äº«æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤å¤šè¿›ç¨‹ä¹‹é—´æ˜¯éš”ç¦»çš„ï¼Œä¸€ä¸ªè¿›ç¨‹çš„å´©æºƒå¾€å¾€ä¸ä¼šå¯¼è‡´å…¶ä»–è¿›ç¨‹å´©æºƒ è¿›ç¨‹é€šä¿¡æ¯”è¾ƒå¤æ‚ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ çº¿ç¨‹ å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤ä¸€ä¸ªçº¿ç¨‹å´©æºƒæœ‰å¯èƒ½å¯¼è‡´å…¶ä»–çº¿ç¨‹çš„å´©æºƒ çº¿ç¨‹é€šä¿¡ç®€å•ï¼Œå› æ­¤éœ€è¦é¢‘ç¹äº¤äº’ä»»åŠ¡å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ã€‚ è¡¥å……ï¼šè¿›ç¨‹é€šä¿¡åŒ…æ‹¬ï¼šç®¡é“ï¼Œå…±äº«å†…å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œsocketï¼Œä¿¡å·ï¼Œä¿¡å·é‡ï¼›çº¿ç¨‹é€šä¿¡ä¸»è¦åŒ…æ‹¬ï¼šäº’æ–¥é”ï¼Œæ¡ä»¶å˜é‡ï¼Œä¿¡å·é‡ï¼ŒåŸå­æ“ä½œï¼Œäº’æ–¥é‡ï¼Œè¯»å†™é”ã€‚ æ•°æ®åº“ç´¢å¼• å°´å°¬ï¼Œç­”æˆå¼•æ“äº†ã€‚ç„¶ååˆå›ç­”ä¸€é\nB+ï¼š å¤šè·¯å¹³è¡¡ï¼Œé«˜åº¦æ¯”è¾ƒçŸ®ï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¶å­èŠ‚ç‚¹ä¸ºé“¾è¡¨ç»“æ„ï¼Œæ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œéå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•èŠ‚ç‚¹ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ® Bï¼šä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œéå¶å­èŠ‚ç‚¹ä¹Ÿå¯ä»¥å­˜å‚¨æ•°æ® å•åˆ—ç´¢å¼•ï¼šå•ä¸ªå­—æ®µåˆ›å»ºç´¢å¼• è”åˆç´¢å¼•ï¼šå¤šä¸ªå­—æ®µåˆ›å»ºç´¢å¼•ï¼Œéœ€è¦ä¸»è¦æœ€å·¦åŒ¹é…åŸåˆ™ è¡¥å……ï¼šå“ˆå¸Œç´¢å¼•ï¼šå¿«é€ŸæŸ¥æ‰¾ï¼Œæ— æ³•æ’åºï¼Œä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œ é¡¹ç›® é—®åˆ°æœ‰æ²¡æœ‰æµ‹è¿‡å¹¶å‘é‡ã€‚å›ç­”æ²¡æœ‰ï¼Œä½†æ˜¯æ ¹æ®ä¹‹å‰æµ‹è¯•çº¿ç¨‹æ± çš„ç»éªŒï¼Œåº”è¯¥å¯ä»¥æ”¯æŒ1wç”¨æˆ·ã€‚\nç½‘ç»œéƒ¨åˆ† æµè§ˆå™¨è®¿é—®urlåˆ°æ¸²æŸ“é¡µé¢çš„å…·ä½“è¿‡ç¨‹ DNSè§£æ æœ‰ç¼“å­˜å…ˆæŸ¥ç¼“å­˜ æ²¡æœ‰ç¼“å­˜ï¼ŒæŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨ï¼Œæ ¹åŸŸåæœåŠ¡å™¨é€šè¿‡æ ‘çŠ¶ç»“æ„æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸåæŸ¥è¯¢è´Ÿè´£è¯¥åŸŸåçš„æƒå¨åŸŸåæœåŠ¡å™¨ æƒå¨åŸŸåæœåŠ¡å™¨è¿”å›IPåœ°å€ TCPæ¡æ‰‹ IP åŒä¸€ä¸ªå­ç½‘ï¼Œé€šè¿‡arpå¯»æ‰¾å¯¹åº”çš„macï¼Œä¸åŒå­ç½‘é€šè¿‡é»˜è®¤è·¯ç”±è½¬å‘ï¼Œé€šè¿‡è·¯ç”±å™¨è‡ªåŠ¨æ›´æ–°ä¸‹ä¸€è·³çš„macåœ°å€å¯»æ‰¾ç›®æ ‡macåœ°å€ å°è£…httpæ¶ˆæ¯ï¼Œè¯·æ±‚è¡Œï¼Œè¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œ é€šè¿‡äº¤æ¢æœºæˆ–è·¯ç”±å™¨å°†ä¿¡æ¯è½¬ä¸ºäºŒè¿›åˆ¶æµï¼Œå‘é€åˆ°ç›®æ ‡ä¸»æœº æœåŠ¡å™¨æ”¶åˆ°åé€šè¿‡æ‹†åŒ…ï¼Œåè®®æ ˆè‡ªåº•å‘ä¸Šåˆ°è¾¾åº”ç”¨å±‚ï¼ŒçŸ¥é“æ˜¯httpæ¶ˆæ¯ï¼Œå–å‡ºå¯¹åº”çš„èµ„æºï¼Œä»¥å“åº”è¡Œï¼šstatus_codeç­‰ï¼Œå“åº”å¤´ï¼Œå“åº”ä½“ï¼Œç»åè®®æ ˆè‡ªé¡¶å‘ä¸‹å‘é€ å®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯ï¼Œé€šè¿‡æµè§ˆå™¨æ¸²æŸ“å¾—åˆ°é¡µé¢ å¦‚ä½•åŠ å¿«httpçš„é€Ÿåº¦ é€‰æ‹©å‹ç¼©ç®—æ³•ï¼Œå‹ç¼©æ¶ˆæ¯ä½“ æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œè¿”å›æœ€è¿‘çš„æœ€å¿«çš„æœåŠ¡å™¨ é€‰æ‹©åˆé€‚çš„åè®®ï¼Œå› ä¸ºTCPå¾ˆæ…¢ï¼Œæ‰€ä»¥http3.0 ä½¿ç”¨äº†UDPå®ç°çš„quic å°†ç”¨æˆ·è®¿é—®è¿‡çš„èµ„æºï¼Œåœ¨æœ¬åœ°ç¼“å­˜ è¡¥å……ï¼šå…¶ä»–ä¼˜åŒ–æ–¹å¼ï¼šåˆå¹¶å¤šä¸ªcssã€jsä½¿ç”¨ä¸€ä¸ªhttpè¿æ¥å‘é€ï¼Œå‡å°‘è¯·æ±‚æ•°é‡ï¼›å¼‚æ­¥åŠ è½½jsï¼›ä½¿ç”¨é«˜æ•ˆçš„å›¾åƒå‹ç¼©ç®—æ³•ï¼Œå‹ç¼©å›¾åƒ è¡¥å……ç¼“å­˜ï¼š æµè§ˆå™¨ç¼“å­˜ï¼šé€šè¿‡è®¾ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚Cache-Controlã€Expiresï¼‰åœ¨æµè§ˆå™¨ç«¯ç¼“å­˜å¸¸ç”¨èµ„æºï¼Œé¿å…æ¯æ¬¡è¯·æ±‚éƒ½é‡æ–°ä»æœåŠ¡å™¨åŠ è½½èµ„æºï¼Œæ˜¾è‘—æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ CDNç¼“å­˜ï¼šå†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰å°†èµ„æºç¼“å­˜åˆ°ç¦»ç”¨æˆ·æ›´è¿‘çš„èŠ‚ç‚¹ï¼Œé€šè¿‡åœ°ç†ä½ç½®åˆ†å‘å‡å°‘ç½‘ç»œå»¶è¿Ÿï¼Œæå‡å“åº”é€Ÿåº¦ã€‚ æœåŠ¡å™¨ç«¯ç¼“å­˜ï¼šå¯¹äºå¸¸ç”¨çš„åŠ¨æ€èµ„æºï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ç»“æœï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ Redis æˆ– Memcached ç­‰ç¼“å­˜æŠ€æœ¯ï¼Œå‡å°‘æ•°æ®åº“çš„å‹åŠ›ï¼Œå¿«é€Ÿè¿”å›å¸¸è§è¯·æ±‚çš„ç»“æœã€‚ æœåŠ¡å·¥ä½œè€…ç¼“å­˜ï¼šç°ä»£æµè§ˆå™¨æä¾›æœåŠ¡å·¥ä½œè€…ï¼ˆService Workersï¼‰æ¥ç¼“å­˜èµ„æºå¹¶æä¾›ç¦»çº¿æ”¯æŒï¼Œä½¿å¾—å³ä½¿æ²¡æœ‰ç½‘ç»œï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨åº”ç”¨ç¨‹åºã€‚ å¯¹å¦‚ä½•æˆä¸ºä¸€ä¸ªä¼˜ç§€çš„å¼€å‘è€…æœ‰ä»€ä¹ˆçœ‹æ³• ä¸»è§‚é¢˜ã€‚ã€‚ã€‚\næ‰‹æ’• äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ ACMæ¨¡å¼ï¼Œå†™å‡ºå‡½æ•°è®²è§£æ€è·¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 struct TreeNode{ int val; TreeNode *left; TreeNode *right; TreeNode():val(0),left(nullptr), right(nullptr){} TreeNode(int _val):val(_val),left(nullptr), right(nullptr){} }; TreeNode * commonAncestor(TreeNode *root, TreeNode *p, TreeNode *q){ if(!root||p==root||q==root) return p; auto left = commonAncestor(root-\u0026gt;left, p, q); auto right = commonAncestor(root-\u0026gt;right, p, q); if(left\u0026amp;\u0026amp;right) return root; return left?left:right; } ","permalink":"http://localhost:14745/posts/%E5%BF%AB%E6%89%8B%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%80%E9%9D%A2/","summary":"12/09/2024 å¿«æ‰‹å¹¿å‘Šéƒ¨é—¨å®¢æˆ·ç«¯ä¸€é¢","title":"å¿«æ‰‹å®¢æˆ·ç«¯ä¸€é¢"},{"content":"æ— è‡ªæˆ‘ä»‹ç» ç†Ÿæ‚‰çš„C++ç‰ˆæœ¬ C++11ä»¥åçš„åŸºæœ¬éƒ½äº†è§£ä¸€äº›ï¼Œ æ²¡æœ‰ç‰¹åˆ«é’ˆå¯¹æŸä¸ªç‰ˆæœ¬.\næ™ºèƒ½æŒ‡é’ˆ shared_ptr: æ”¯æŒæ‹·è´ã€ç§»åŠ¨ï¼Œå¯ä»¥ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œé¿å…å¤§å¯¹è±¡çš„æ‹·è´. å¼•ç”¨è®¡æ•°æ˜¯çº¿ç¨‹å®‰å…¨çš„ unique_ptrï¼šæ”¯æŒç§»åŠ¨ï¼Œå¯ä»¥é€šè¿‡è½¬ç§»æ‰€æœ‰æƒçš„æ–¹å¼ï¼Œå°†å¯¹è±¡çš„æ‰€æœ‰æƒè½¬ç§»ç»™å¦ä¸€ä¸ªç‹¬å æŒ‡é’ˆ weal_ptr: æ”¯æŒæ‹·è´ï¼Œå¯ä»¥ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è½¬ç§»æ‰€æœ‰æƒï¼Œåªèƒ½é€šè¿‡weak_ptrè½¬æˆshared_ptr gdb gccæœ‰ç”¨è¿‡å— ä¸æ€ä¹ˆç”¨gdb gccæœ‰äº†è§£\ngccå¦‚ä½•é¢„å¤„ç† å¿˜äº†ï¼Œå›ç­”gccæœ‰å‚æ•°æ§åˆ¶\n1 gcc -E main.c -o main.i å¦‚ä½•è·å–ä¸è¿›è¡Œé“¾æ¥çš„ä»£ç  å¿˜äº†ï¼Œå›ç­”gccæœ‰å‚æ•°æ§åˆ¶\n1 gcc -c main.c -o main.o çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ é€šè¿‡C++11std::call_onceå®ç° å¯¹æŒ‡é’ˆåˆ¤ç©ºæ‰§è¡Œä¸¤æ¬¡ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡åˆ¤æ–­ä¸ºç©ºååˆå§‹åŒ–å‰ï¼Œå¯èƒ½å…¶ä»–çº¿ç¨‹å·²ç»åˆå§‹åŒ–äº†ï¼Œæ‰€ä»¥è¦ä¸¤æ¬¡åˆ¤ç©º é—®æœ‰æ²¡æœ‰å…¶ä»–çš„ï¼Œå›ç­”åŸå­å˜é‡åº”è¯¥ä¹Ÿè¡Œï¼Œä¸æ˜¯å¾ˆäº†è§£ã€‚ äº†è§£å‹ç¼©ç®—æ³•å— ä¸çŸ¥é“ä¸ºå•¥é—®è¿™ä¸ªé—®é¢˜ï¼Œé¢è¯•å®˜æ¥ç€é—®æ˜¯å¦äº†è§£å“ˆå¤«æ›¼ï¼Œç„¶åè®©è®²ä¸€ä¸‹è‡ªå·±äº†è§£çš„å‹ç¼©ç®—æ³•ã€‚å›ç­”äº†ç§‘ç ”åšçš„å›¾åƒå‹ç¼©ã€‚\né¡¹ç›® é¡¹ç›®ç»“æ„ ç•¥\nè´Ÿè½½å‡è¡¡æ€ä¹ˆåšçš„ é€šè¿‡roundRobinæ–¹å¼å®ç°ï¼Œè¿”å›ä¸€ä¸ªè¿æ¥æ•°é‡å°‘çš„æœåŠ¡å™¨ï¼›æ¥ç€é—®é“æœ‰è€ƒè™‘å»¶è¿Ÿå—ï¼Œå›ç­”æ²¡æœ‰ï¼Œå› ä¸ºæ˜¯åœ¨å•ä¸ªæœºå™¨æµ‹è¯•çš„ã€‚\nå•ä¾‹æ¨¡æ¿åŸºç±»æ˜¯ä»€ä¹ˆ é€šè¿‡æ¨¡æ¿ç±»æ˜¯å®ç°ä¸€ä¸ªå•ä¾‹åŸºç±»ï¼Œå­ç±»é€šè¿‡CRTPçš„æ–¹å¼å®ç°å•ä¾‹ã€‚\nQté”®ç›˜é¼ æ ‡äº‹ä»¶ é”®ç›˜äº‹ä»¶ï¼škeyPressEvent keyReleaseEvent é¼ æ ‡äº‹ä»¶ï¼šmousePressEvent mouseReleaseEvent mouseMoveEvent linuxç›¸å…³ dockerå¦‚ä½•å»ºç«‹ç›®å½•æ˜ å°„ å›ç­”ï¼Œåœ¨åˆ›å»ºå®¹å™¨æ—¶é€šè¿‡-væŒ‡å®šå®¿ä¸»ç›®å½•å’Œå®¹å™¨ç›®å½•çš„æ˜ å°„å…³ç³»ã€‚\ntopå¦‚ä½•æ ¹æ®å†…å­˜å ç”¨æ’åº å›ç­”ä¸çŸ¥é“ï¼Œè‡ªå·±ä½¿ç”¨çš„åŸºäºtopå°è£…çš„btopï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ§åˆ¶\n1 top -o %MEM å¦‚ä½•æŸ¥æ‰¾è¿›ç¨‹çš„å¥æŸ„ï¼Œ å›ç­”ä¸å¤ªäº†è§£ã€‚å¯ä»¥ä½¿ç”¨pså‘½ä»¤æŸ¥è¯¢è¿›ç¨‹çŠ¶æ€ã€‚ æŸ¥è¯¢å¤§æ¨¡å‹å¾—åˆ°ï¼š è¿›ç¨‹å¥æŸ„ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®ƒä¸»è¦ç”¨äºæ“ä½œç³»ç»Ÿå†…æ ¸å’Œå…¶ä»–ç³»ç»Ÿç»„ä»¶ä¹‹é—´è¿›è¡Œè¿›ç¨‹ç®¡ç†å’Œé€šä¿¡ã€‚ä»¥ä¸‹æ˜¯å…³äºè¿›ç¨‹å¥æŸ„çš„ä¸€äº›å…³é”®ç‚¹ï¼š\n1 ls -l /proc/\u0026lt;pid\u0026gt;/fd æŸ¥çœ‹è¿›ç¨‹ç«¯å£å ç”¨ 1 netstat -anp æŸ¥çœ‹è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„ å›ç­”ä¸çŸ¥é“ï¼ŒæŸ¥è¯¢å¤§æ¨¡å‹å¾—åˆ°ï¼š\n1 lsof -p \u0026lt;pid\u0026gt; git å›ç­”ç¨€ç¢ï¼Œåªä¼šä½¿ç”¨push, pull\ngit rebase git rebaseå¯ä»¥å°†ä¸€ä¸ªåˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œå¯ä»¥ç”¨æ¥\næ›´æ–°åˆ†æ”¯ï¼š å°†å½“å‰åˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°æœ€æ–°çš„ä¸»åˆ†æ”¯ï¼ˆå¦‚ main æˆ– masterï¼‰ä¸Šï¼Œä»¥ä¿æŒä»£ç çš„æœ€æ–°çŠ¶æ€ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ä¸Šå·¥ä½œï¼Œè€Œä¸»åˆ†æ”¯ä¸Šæœ‰æ–°çš„æäº¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ rebase å°†åŠŸèƒ½åˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°æœ€æ–°çš„ä¸»åˆ†æ”¯ä¸Šã€‚ çº¿æ€§åŒ–æäº¤å†å²ï¼š rebase å¯ä»¥ä½¿æäº¤å†å²æ›´åŠ çº¿æ€§ï¼Œé¿å…åˆå¹¶æäº¤ï¼ˆmerge commitï¼‰çš„å‡ºç°ï¼Œä»è€Œä½¿æäº¤å†å²æ›´æ¸…æ™°ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ ä» main åˆ†æ”¯æ´¾ç”Ÿäº†ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼Œå¹¶ä¸” main åˆ†æ”¯ä¸Šæœ‰æ–°çš„æäº¤ï¼Œrebase å¯ä»¥å°†ä½ çš„åŠŸèƒ½åˆ†æ”¯çš„æäº¤é‡æ–°åº”ç”¨åˆ° main åˆ†æ”¯çš„æœ€æ–°æäº¤ä¹‹ä¸Šã€‚ è§£å†³å†²çªï¼š åœ¨ rebase è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å†²çªï¼ŒGit ä¼šæš‚åœå¹¶æç¤ºä½ è§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œä½ å¯ä»¥ç»§ç»­ rebase è¿‡ç¨‹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åŠŸèƒ½åˆ†æ”¯å’Œ main åˆ†æ”¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸Šè¿›è¡Œäº†ä¿®æ”¹ï¼Œrebase ä¼šæç¤ºä½ è§£å†³è¿™äº›å†²çªã€‚ git å¦‚ä½•åˆ›å»ºåˆ†æ”¯ å›ç­”ä½¿ç”¨checkout å…·ä½“æ˜¯ï¼š\n1 git checkout -b \u0026lt;branch_name\u0026gt; ","permalink":"http://localhost:14745/posts/%E9%87%91%E5%B1%B1%E4%BA%8C%E9%9D%A2/","summary":"12/05/2024 é‡‘å±±wpsC++äºŒé¢","title":"é‡‘å±±äºŒé¢"},{"content":"è‡ªæˆ‘ä»‹ç»ï¼šç•¥ ç»å¸¸ä½¿ç”¨çš„å®¹å™¨ map k,vå¯ä»¥å­˜å‚¨æ“ä½œidå’Œå‡½æ•°ï¼Œä½œä¸ºå›è°ƒã€‚\nsort()ä½¿ç”¨äº†å“ªç§æ’åºç®—æ³• sort() åº•éƒ¨ä½¿ç”¨äº†å¤šç§æ’åºç®—æ³•ï¼š å¿«æ’ï¼Œå †æ’\nå½“æ•°æ®é‡å¤§ï¼Œåˆ†å¸ƒéšæœºæ—¶ï¼Œä½¿ç”¨å¿«é€Ÿæ’åº æ•°æ®é‡å°ï¼Œä½¿ç”¨æ’å…¥æ’åº é€’å½’æ·±åº¦è¿‡æ·±æ—¶ä½¿ç”¨å †æ’åº æ’åºç®—æ³•çš„ä½¿ç”¨åœºæ™¯ å¿«æ’ï¼šæ— åºæ•°ç»„æ•ˆç‡ä¼šå¾ˆé«˜ï¼Œä½†æ˜¯æœ‰åºæ•°ç»„æ•ˆç‡ä¼šå¾ˆä½ï¼Œæ‰€ä»¥å¿«é€Ÿæ’åºåªé€‚ç”¨äºæ— åºæ•°ç»„ã€‚ å½’å¹¶æ’åºï¼šå†…å­˜æœ‰é™çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¤šè·¯å½’å¹¶ æ’å…¥æ’åºï¼š åŸºæœ¬æœ‰åºçš„æ•°æ®ï¼Œé€‚åˆç”¨æ’å…¥æ’åºã€‚ æ™ºèƒ½æŒ‡é’ˆ weak_ptrå¯ä»¥æå‡ä¸ºshared_ptrå—ï¼Ÿ å¯ä»¥ã€‚\nshared_ptr: ä¼šä½¿ç”¨è®¡æ•°å™¨æ¥è®°å½•å¼•ç”¨æ¬¡æ•°ï¼Œå½“å¼•ç”¨æ¬¡æ•°ä¸º0æ—¶ï¼Œé‡Šæ”¾å¯¹è±¡ã€‚ weak_ptrï¼šweak_ptrå®ç°å¼±å¼•ç”¨ï¼Œå¯ä»¥é€šè¿‡.lock() æå‡ä¸º shared_ptr ä½¿ç”¨ä¸€æ®µä»£ç ä½“ç°C++é¢å‘å¯¹è±¡çš„æ€æƒ³ é¦–å…ˆï¼ŒC++é¢å‘å¯¹è±¡çš„ç‰¹æ€§æœ‰ä¸‰ä¸ª\nå°è£… ç»§æ‰¿ å¤šæ€ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class Base{ public: Base() { std::cout \u0026lt;\u0026lt; \u0026#34;Base constructoer\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual void getObjName() { std::cout \u0026lt;\u0026lt; \u0026#34;This is a Base object\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual ~Base() { std::cout \u0026lt;\u0026lt; \u0026#34;Base destructor\u0026#34; \u0026lt;\u0026lt; std::endl; } }; class Derived:public Base{ public: Derived() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived constructoer\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual void getObjName() override { std::cout \u0026lt;\u0026lt; \u0026#34;This is a Derived object\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual ~Derived() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived destructor\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int main() { Base *p = new Derived(); p-\u0026gt;getObjName(); delete p; } è¿™æ®µä»£ç ä¼šè¾“å‡º:\n1 2 3 4 5 Base constructoer Derived constructoer This is a Derived object Derived destructor Base destructor é¢è¯•å®˜æ¥ç€é—®äº†ä¸¤ä¸ªç±»çš„å¤§å°ï¼Œ å›ç­”æ²¡æœ‰è€ƒè™‘ç»§æ‰¿æ—¶çš„è™šå‡½æ•°æŒ‡é’ˆï¼Œæ‰€ä»¥å›ç­”çš„ä¸¤ä¸ªéƒ½æ˜¯1ã€‚ å®é™…ä¸Šå› ä¸ºå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œå¯¹äºä¸ªä¸€ä¸ª64ä½çš„æœºå™¨ï¼ŒæŒ‡é’ˆçš„å¤§å°æ˜¯8å­—èŠ‚ï¼Œæ‰€ä»¥ä¸¤ä¸ªç±»çš„å¤§å°éƒ½æ˜¯8å­—èŠ‚ã€‚\n1 std::cout \u0026lt;\u0026lt; sizeof(Base) \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; sizeof(Derived) \u0026lt;\u0026lt; std::endl; è¾“å‡º\n1 8 8 å®ç°å­—ç¬¦ä¸²æ•°å­—ç›¸åŠ ï¼Œç›¸å‡ å½“æ—¶å®ç°æ—¶è€ƒè™‘çš„åœºæ™¯å¤ªå¤šäº†ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°ã€‚ è€Œä¸”è¦æ³¨æ„ï¼Œåšç›¸åŠ æˆ–ç›¸å‡æ—¶ï¼Œè¦å°†å­—ç¬¦è½¬ä¸ºæ•´æ•°ã€‚ æ‰€ä»¥å…·ä½“å®ç°æ—¶ï¼Œè¦è€ƒè™‘\nå®ç°åŸºç¡€çš„ æ­£æ•°ç›¸åŠ  å¤§æ•°å‡å°æ•° ç‰¹æ®Šæƒ…å†µï¼Œç‰¹æ®Šåˆ¤å®š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // 1. é¦–å…ˆè¦å°†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€0 å»æ‰ std::string trimLeadingZeors(const std::string \u0026amp;str) { size_t nonZeroIdx = str.find_first_not_of(\u0026#39;0\u0026#39;); if(nonZeroIdx == std::string::npos) return \u0026#39;0\u0026#39;; // æ­¤æ—¶å…¨éƒ¨æ˜¯0 return str.substr(nonZeroIdx); } // 2. æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ•°å­—ç»å¯¹å€¼çš„å¤§å° bool isAbsGreaterOrEqual(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string aTrimmed = trimLeadingZeors(a); std::string bTrimmed = trimLeadingZeors(b); if(aTrimmed.size() != bTrimmed.size()) return aTrimmed.size() \u0026gt; bTrimmed.size(); return aTrimmed \u0026gt; bTrimmed; } // 3. ä¸¤ä¸ªæ•´æ•°å­—ç¬¦ä¸²åŠ æ³• std::string addStrings(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string result; int carry = 0, sum=0; int i = a.size()-1, j = b.size()-1; while(i\u0026gt;=0 || j\u0026gt;=0 || carry) { int digitA = (i\u0026gt;=0)?a[i--]-\u0026#39;0\u0026#39;:0; int digitB = (j\u0026gt;=0)?b[i--]-\u0026#39;0\u0026#39;:0; sum = digitA + digitB + carry; carry = sum / 10; result.push_back(sum % 10 + \u0026#39;0\u0026#39;); } std::reverse(result.begin(), result.end()); return result; } // 4. å­—ç¬¦ä¸²å‡æ³•ï¼Œ a\u0026gt;=b std::string subStrings(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string result; int borrow = 0, diff=0; int i = a.size()-1, j = b.size()-1; while(i\u0026gt;=0 || j\u0026gt;=0) { int digitA = (i\u0026gt;=0)?a[i--]-\u0026#39;0\u0026#39;:0; int digitB = (j\u0026gt;=0)?b[i--]-\u0026#39;0\u0026#39;:0; diff = digitA - digitB - borrow; if(diff \u0026lt; 0) { diff += 10; borrow = 1; }else { borrow = 0; } result.push_back(diff + \u0026#39;0\u0026#39;); } std::reverse(result.begin(), result.end()); return result; } // 5. å®ç° ä»»æ„ç±»å‹çš„åŠ å‡ std::string add(const std::string \u0026amp;num1, const std::string \u0026amp;num2) { bool isNum1Negative = (num1[0] == \u0026#39;-\u0026#39;); bool isNum2Negative = (num2[0] == \u0026#39;-\u0026#39;); std::string absNum1 = isNum1Negative ? num1.substr(1) : num1; std::string absNum2 = isNum2Negative ? num2.substr(1) : num2; if (!isNum1Negative \u0026amp;\u0026amp; !isNum2Negative) { // éƒ½æ˜¯æ­£æ•° return addStrings(absNum1, absNum2); } else if (isNum1Negative \u0026amp;\u0026amp; isNum2Negative) { // éƒ½æ˜¯è´Ÿæ•° return \u0026#34;-\u0026#34; + addStrings(absNum1, absNum2); } else if (isNum1Negative) { // num1è´Ÿï¼Œnum2æ­£ if (isAbsGreaterOrEqual(absNum1, absNum2)) { return \u0026#34;-\u0026#34; + subtractStrings(absNum1, absNum2); } else { return subtractStrings(absNum2, absNum1); } } else { // num1æ­£ï¼Œnum2è´Ÿ if (isAbsGreaterOrEqual(absNum2, absNum1)) { return \u0026#34;-\u0026#34; + subtractStrings(absNum2, absNum1); } else { return subtractStrings(absNum1, absNum2); } } } // å­—ç¬¦ä¸²ç›¸å‡ ä»»æ„ std::string subtract(const std::string \u0026amp;num1, const std::string \u0026amp;num2) { std::string negatedNum2 = (num2[0] == \u0026#39;-\u0026#39;) ? num2.substr(1) : \u0026#34;-\u0026#34; + num2; return add(num1, negatedNum2); } æœ€å å€’éœ‰å€’éœ‰å€’éœ‰ã€‚é¢è¯•æœŸé—´ï¼Œå¿«æ‰‹ç”µè¯æ²¡æ¥åˆ°ï¼Œåº”è¯¥æ˜¯çº¦é¢çš„ã€‚ç»“æŸä¹‹åå»å®˜ç½‘çœ‹å·²ç»æŒ‚äº†ã€‚æ­¤å‰å¿«æ‰‹ä¸‰é¢å› ä¸ºé¢è¯•å®˜çš„é—®é¢˜æœ‰ä¸€ä¸ªæ˜¯ç‰¹å®šåœºæ™¯ï¼Œè·ŸC++ä¸ä¸€æ ·æ²¡æœ‰ç­”å‡ºæ¥ã€‚è®²è§£é¡¹ç›®é¢è¯•å®˜è¯´ä»–æ²¡å¬æ‡‚ğŸ˜…ã€‚\n","permalink":"http://localhost:14745/posts/%E9%87%91%E5%B1%B1%E4%B8%80%E9%9D%A2/","summary":"12/03/2024 é‡‘å±±wpsC++ä¸€é¢","title":"é‡‘å±±ä¸€é¢"},{"content":"åŸé¢˜\nleetcode 3274 æ£€æŸ¥æ£‹ç›˜æ–¹æ ¼é¢œè‰²æ˜¯å¦ç›¸åŒ æ–¹æ³•1 å› ä¸ºåŸé¢˜ç»™å‡ºäº†æ£‹ç›˜çš„æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘çš„æƒ³æ³•æ˜¯åˆå§‹åŒ–æ£‹ç›˜ï¼Œç„¶åæ ¹æ®ä¸¤ä¸ªåæ ‡è®¿é—®å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class Solution { private: const string s1 = \u0026#34;01010101\u0026#34;; const string s2 = \u0026#34;10101010\u0026#34;; vector\u0026lt;string\u0026gt; grid; void init() { grid.resize(8, string(8, \u0026#39;0\u0026#39;)); for (int i = 0; i \u0026lt; 8; i++) { grid[i] = i % 2 ? s1 : s2; } } public: bool checkTwoChessboards(string coordinate1, string coordinate2) { init(); return grid[coordinate1[0] - \u0026#39;a\u0026#39;][coordinate1[1] - \u0026#39;0\u0026#39; - 1] == grid[coordinate2[0] - \u0026#39;a\u0026#39;][coordinate2[1] - \u0026#39;0\u0026#39; - 1]; } }; æ—¶é—´å¤æ‚åº¦ ä½¿ç”¨äº†å¸¸æ•°æ—¶é—´åˆå§‹åŒ–æ£‹ç›˜ï¼Œå¯ä»¥è§†ä½œO(1) ç©ºé—´å¤æ‚åº¦ ä½¿ç”¨äº†å¸¸æ•°é‡çš„ç©ºé—´å­˜å‚¨æ£‹ç›˜ï¼Œå¯ä»¥è§†ä½œ O(1) æ–¹æ³•2 æ–¹æ³•2 å°±å¾ˆå–å·§äº†ã€‚æ£‹ç›˜çš„æ¨ªåæ ‡æ˜¯a~h asciiå³ä¸º97~104ï¼Œçºµåæ ‡ä¸º1~8ã€‚ ä¸¾å‡ ä¸ªä¾‹å­ï¼š\n(a,1)ä¸ºé»‘è‰²ï¼Œ(a,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (b,1)ä¸ºç™½è‰²ï¼Œ(b,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (c,1)ä¸ºé»‘è‰²ï¼Œ(c,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (d,1)ä¸ºç™½è‰²ï¼Œ(d,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; æŠŠæ¨ªåæ ‡ä½¿ç”¨asciiä»£æ›¿å (97,1)ä¸ºé»‘è‰²ï¼Œ(97,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (98,1)ä¸ºç™½è‰²ï¼Œ(98,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (99,1)ä¸ºé»‘è‰²ï¼Œ(99,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (100,1)ä¸ºç™½è‰²ï¼Œ(100,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; æ€»ç»“è§„å¾‹ï¼š å¦‚æœæ¨ªçºµåæ ‡å¥‡å¶æ€§ä¸€è‡´ï¼Œä¸ºé»‘è‰²ï¼Œå¦åˆ™ä¸ºç™½è‰² 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 class Solution { bool same(int a, int b) { if (a % 2 \u0026amp;\u0026amp; b % 2) return true; else if (a % 2 == 0 \u0026amp;\u0026amp; b % 2 == 0) return true; return false; } public: bool checkTwoChessboards(string s, string t) { int s0 = toascii(s[0]); int s1 = s[1] - \u0026#39;0\u0026#39;; int t0 = toascii(t[0]); int t1 = t[1] - \u0026#39;0\u0026#39;; if (same(s0, s1) \u0026amp;\u0026amp; same(t0, t1) || !same(s0, s1) \u0026amp;\u0026amp; !same(t0, t1)) return true; return false; } }; æ—¶é—´å¤æ‚åº¦ O(1) ç©ºé—´å¤æ‚åº¦ O(1) ","permalink":"http://localhost:14745/posts/leetcode-3274-12-03-2024/","summary":"leetcode 3274 ç®€å•é¢˜ï¼Œä½†æ˜¯åŸç†ä¸ç®€å•","title":"Leetcode 3274 12/03/2024"},{"content":"std::async 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 #include \u0026lt;chrono\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;thread\u0026gt; // async è·å–å¼‚æ­¥è¿”å›å€¼ std::string fetchDataFromDB(std::string query) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is fetching data from DB...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); return \u0026#34;Data: \u0026#34; + query; } void use_async() { // å¼‚æ­¥è·å–æ•°æ® std::future\u0026lt;std::string\u0026gt; fetchedData = std::async(std::launch::async, fetchDataFromDB, \u0026#34;query\u0026#34;); // ä¸»çº¿ç¨‹æ­£å¸¸è¿›è¡Œ for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } // get() æ˜¯é˜»å¡çš„ï¼Œ åªæœ‰æ•°æ®è¿”å›åæ‰ä¼šç»§ç»­æ‰§è¡Œ std::string data = fetchedData.get(); std::cout \u0026lt;\u0026lt; data \u0026lt;\u0026lt; std::endl; } int main() { use_async(); return 0; } async çš„å¯åŠ¨æ¨¡å¼ std::launch::async ç«‹å³æ‰§è¡Œ std::launch::defer è°ƒç”¨std::future::getæ—¶æ‰ä¼šæ‰§è¡Œ std::launch::deferred|std::launch::async ä¸åŒçš„ç¯å¢ƒæ‰§è¡Œç»“æœä¸åŒ std::future std::future::get è°ƒç”¨æ—¶ä¼šé˜»å¡ï¼Œè°ƒç”¨åstd::futureå°±ä¼šå¤±æ•ˆ std::future::wait é˜»å¡è°ƒç”¨ï¼Œå¦‚æœä»»åŠ¡å®Œæˆå°±ä¼šè¿”å›ï¼Œæ²¡æœ‰åˆ™ç»§ç»­ç­‰å¾…ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä½†æ˜¯ä¸€æ—¦è°ƒç”¨äº†std::future::get å› ä¸ºå¯¹è±¡std::futureçš„å¤±æ•ˆï¼Œå°±ä¼šå¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 std::string fetchDataFromDB(std::string query) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is fetching data from DB...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); return \u0026#34;Data: \u0026#34; + query; } void use_async_future_wait() { // å¼‚æ­¥è·å–æ•°æ® std::future\u0026lt;std::string\u0026gt; fetchedData = std::async(std::launch::async, fetchDataFromDB, \u0026#34;query\u0026#34;); // ä¸»çº¿ç¨‹æ­£å¸¸è¿›è¡Œ for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } // get() æ˜¯é˜»å¡çš„ï¼Œ åªæœ‰æ•°æ®è¿”å›åæ‰ä¼šç»§ç»­æ‰§è¡Œ std::cout \u0026lt;\u0026lt; \u0026#34;first call `fetchedData.get()` \u0026#34; \u0026lt;\u0026lt; std::endl; fetchedData.wait(); // std::string data = fetchedData.get(); // std::cout \u0026lt;\u0026lt; data \u0026lt;\u0026lt; std::endl; for (int i = 10; i \u0026lt; 20; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } std::cout \u0026lt;\u0026lt; \u0026#34;call `future::wait()` again \u0026#34; \u0026lt;\u0026lt; std::endl; fetchedData.wait(); } std::packaged_task std::packaged_taskå¯ä»¥å°†å¼‚æ­¥ä»»åŠ¡åŒ…è£…æˆstd::futureï¼Œè¿è¡Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸Šï¼Œå¯ä»¥æ•è·ä»»åŠ¡çš„è¿”å›å€¼æˆ–å¼‚å¸¸ ä½¿ç”¨ï¼š\nåˆ›å»ºä¸€ä¸ªstd::packaged_task å¯¹è±¡ï¼ŒåŒ…è£…ä¸€ä¸ªä»»åŠ¡ è°ƒç”¨std::packaged_task::get_future è·å–ä¸€ä¸ªstd::futureå¯¹è±¡ åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸Šè°ƒç”¨std::packaged_taskçš„operator()æ‰§è¡Œä»»åŠ¡ è°ƒç”¨std::future::getè·å–è¿”å›å€¼æˆ–å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 int my_task() { std::this_thread::sleep_for(std::chrono::seconds(4)); std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is running task...\u0026#34; \u0026lt;\u0026lt; std::endl; return 42; } void use_packaged_task() { std::packaged_task\u0026lt;int()\u0026gt; task(my_task); for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } std::cout \u0026lt;\u0026lt; \u0026#34;Call `task.get_future()`\u0026#34; \u0026lt;\u0026lt; std::endl; auto res = task.get_future(); std::cout \u0026lt;\u0026lt; \u0026#34;Get result from `my_task()`\u0026#34; \u0026lt;\u0026lt; std::endl; // éœ€è¦å¼€è¾Ÿä¸€ä¸ªå­çº¿ç¨‹å¤„ç†`std::packaged_task` å¿…é¡»ä½¿ç”¨`std::move` std::packaged_taskåªæ”¯æŒç§»åŠ¨è¯­ä¹‰ std::thread t(std::move(task)); t.detach(); std::cout \u0026lt;\u0026lt; res.get(); } std::promise std::promiseä¹Ÿå¯ä»¥åœ¨çº¿ç¨‹ä¸­è·å–å¼‚æ­¥è¿”å›å€¼ï¼Œä¿å­˜åœ¨std::futureä¸­ï¼Œåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è·å–è¿™ä¸ªå€¼æˆ–å¼‚å¸¸ã€‚\nä¸std::packaged_taskä¸åŒçš„æ˜¯ï¼Œstd::packaged_taskç»‘å®šçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ç­‰å¾…å‡½æ•°æ‰§è¡Œå®Œæ‰èƒ½æ‹¿åˆ°ç»“æœï¼Œ\nè€Œstd::promise å¯ä»¥åœ¨å‡½æ•°ä¸­çš„ä»»æ„ä¸€æ­¥å®šä¹‰ï¼Œæ‹¿åˆ°å€¼ä¹‹åå¯ä»¥ç›´æ¥åœ¨å…¶ä»–çº¿ç¨‹ä¸­å¾—åˆ°å€¼ã€‚\nstd::promiseä¹Ÿæ˜¯åªæ”¯æŒç§»åŠ¨æ“ä½œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 void set_value(std::promise\u0026lt;int\u0026gt; prom) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is setting value...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); prom.set_value(42); std::cout \u0026lt;\u0026lt; \u0026#34;promise has set value to 42\u0026#34; \u0026lt;\u0026lt; std::endl; } void use_promise() { std::promise\u0026lt;int\u0026gt; prom; std::future\u0026lt;int\u0026gt; fut = prom.get_future(); std::thread t(set_value, std::move(prom)); // å¼€è¾Ÿçš„å­çº¿ç¨‹ä¼šè¿è¡Œï¼Œä½†åªæœ‰é€šè¿‡`std::future`å¯¹è±¡æ‰èƒ½è·å–åˆ°`std::promise`ä¸­çš„å€¼ std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else...\u0026#34; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;Waiting for subthread to set value \u0026#34;\u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;get value for subthread: \u0026#34; \u0026lt;\u0026lt; fut.get() \u0026lt;\u0026lt; std::endl; t.join(); } // ä½¿ç”¨promise æ•è·å¼‚å¸¸ void promise_one_exception(std::promise\u0026lt;void\u0026gt; promise) { try { throw std::runtime_error(\u0026#34;Oops, Error\u0026#34;); } catch (...) { promise.set_exception(std::current_exception()); } } void use_promise_exception() { std::promise\u0026lt;void\u0026gt; promise; std::future\u0026lt;void\u0026gt; future = promise.get_future(); std::thread t(promise_one_exception, std::move(promise)); std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else...\u0026#34; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;Waiting for subthread to set value \u0026#34; \u0026lt;\u0026lt; std::endl; future.wait(); try { future.get(); } catch (std::exception \u0026amp;e) { std::cout \u0026lt;\u0026lt; \u0026#34;Caught exception: \u0026#34; \u0026lt;\u0026lt; e.what() \u0026lt;\u0026lt; std::endl; } t.join(); } // æ­é…std::shared_future void function(std::promise\u0026lt;int\u0026gt; \u0026amp;\u0026amp;prom) { std::this_thread::sleep_for(std::chrono::seconds(10)); prom.set_value(10); } void threadfunction(std::shared_future\u0026lt;int\u0026gt; future) { try { int result = future.get(); std::cout \u0026lt;\u0026lt; \u0026#34;Result: \u0026#34; \u0026lt;\u0026lt; result \u0026lt;\u0026lt; std::endl; } catch (std::future_error \u0026amp;e) { std::cout \u0026lt;\u0026lt; \u0026#34;future error: \u0026#34; \u0026lt;\u0026lt; e.what() \u0026lt;\u0026lt; std::endl; } } void use_shared_future() { std::promise\u0026lt;int\u0026gt; prom; std::shared_future\u0026lt;int\u0026gt; future = prom.get_future(); std::thread t1(function, std::move(prom)); std::thread t2(threadfunction, future); // ä¸å¯ä»¥é€šè¿‡ std::move(future)çš„æ–¹å¼ä¼ é€’ std::thread t3(threadfunction, future); t1.join(), t2.join(), t3.join(); } last but not least C++çº¿ç¨‹æ± çš„ä¸€ç§å®ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 #include \u0026lt;condition_variable\u0026gt; #include \u0026lt;cstddef\u0026gt; #include \u0026lt;functional\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;memory\u0026gt; #include \u0026lt;mutex\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;thread\u0026gt; #include \u0026lt;utility\u0026gt; #include \u0026lt;vector\u0026gt; class ThreadPool { using TASK = std::packaged_task\u0026lt;void()\u0026gt;; private: static std::shared_ptr\u0026lt;ThreadPool\u0026gt; _instance; std::atomic\u0026lt;int\u0026gt; _thread_count; std::atomic\u0026lt;bool\u0026gt; _stop; std::mutex _mtx; std::condition_variable _cond; std::vector\u0026lt;std::thread\u0026gt; _workers; std::queue\u0026lt;TASK\u0026gt; _tasks; private: void work_thread() { while (!this-\u0026gt;_stop.load()) { TASK task; { std::unique_lock\u0026lt;std::mutex\u0026gt; lock(this-\u0026gt;_mtx); this-\u0026gt;_cond.wait(lock, [this] { return this-\u0026gt;_stop.load() || !this-\u0026gt;_tasks.empty(); }); if (this-\u0026gt;_tasks.empty()) return; task = std::move(this-\u0026gt;_tasks.front()); this-\u0026gt;_tasks.pop(); } this-\u0026gt;_thread_count--; task(); this-\u0026gt;_thread_count++; } } void start() { for (int i = 0; i \u0026lt; _thread_count; ++i) { _workers.emplace_back(\u0026amp;ThreadPool::work_thread, this); } } void stop() { _stop.store(true); _cond.notify_all(); for (auto \u0026amp;t : _workers) { if (t.joinable()) { std::cout \u0026lt;\u0026lt; \u0026#34;Join thread with id = \u0026#34; \u0026lt;\u0026lt; t.get_id() \u0026lt;\u0026lt; std::endl; t.join(); } } } ThreadPool(size_t thread_count = 4) : _stop(false) { if (thread_count \u0026lt;= 1) _thread_count = 1; else _thread_count = thread_count; start(); } ThreadPool(const ThreadPool \u0026amp;other) = delete; ThreadPool \u0026amp;operator=(const ThreadPool \u0026amp;) = delete; public: ~ThreadPool() { stop(); } static std::shared_ptr\u0026lt;ThreadPool\u0026gt; GetInstance() { std::once_flag s_flag; std::call_once(s_flag, [\u0026amp;]() { if (_instance == nullptr) _instance = std::shared_ptr\u0026lt;ThreadPool\u0026gt;(new ThreadPool(4)); }); return _instance; } template \u0026lt;class F, class... Args\u0026gt; auto commit(F \u0026amp;\u0026amp;f, Args \u0026amp;\u0026amp;...args) -\u0026gt; std::future\u0026lt;decltype(f(args...))\u0026gt; { using RETURN_TYPE = decltype(f(args...)); if (_stop.load()) return std::future\u0026lt;RETURN_TYPE\u0026gt;{}; auto task = std::make_shared\u0026lt;std::packaged_task\u0026lt;RETURN_TYPE()\u0026gt;\u0026gt;( std::bind(std::forward\u0026lt;F\u0026gt;(f), std::forward\u0026lt;Args\u0026gt;(args)...)); std::future\u0026lt;RETURN_TYPE\u0026gt; res = task-\u0026gt;get_future(); { std::unique_lock\u0026lt;std::mutex\u0026gt; lck(_mtx); _tasks.emplace([task]() { (*task)(); }); } _cond.notify_one(); return res; } auto available_threads() const { return _thread_count.load(); } }; std::shared_ptr\u0026lt;ThreadPool\u0026gt; ThreadPool::_instance = nullptr; int main() { auto res = ThreadPool::GetInstance()-\u0026gt;commit( [](int a, int b) { return a + b; }, 10, 20); std::cout \u0026lt;\u0026lt; res.get() \u0026lt;\u0026lt; std::endl; }; æ³¨æ„,åœ¨GetInstance()ä¸­ï¼Œåªèƒ½ä½¿ç”¨std::shared_ptr\u0026lt;ThreadPool\u0026gt;(new ThreadPool);çš„æ–¹å¼æ„é€  å› ä¸ºmake_sharedæ— æ³•è®¿é—®ç§æœ‰æ„é€ å‡½æ•°ã€‚\n","permalink":"http://localhost:14745/posts/future-async-promise/","summary":"C++ä¸­std::future, std::packaged_task, std::promiseçš„ä½¿ç”¨","title":"Future Async Promise"},{"content":"å¤šçº¿ç¨‹ å¤šçº¿ç¨‹äº«æœ‰ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œçº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢è¦ç®€å•ï¼Œè€Œä¸”çº¿ç¨‹é€šä¿¡ä¹Ÿæ¯”è¿›ç¨‹é€šä¿¡è¦ç®€å•ã€‚\nC++ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥é€šè¿‡std::threadç±»å®ç°ã€‚std::threadä½äºå¤´æ–‡ä»¶\u0026lt;thread\u0026gt;ä¸­ã€‚ å…·ä½“å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ä¸€ä¸ªçº¿ç¨‹\nç»‘å®šæ™®é€šå‡½æ•° ç»‘å®šlambdaè¡¨è¾¾å¼ ç»‘å®šå‡½æ•°å¯¹è±¡ å‡½æ•°æŒ‡é’ˆ ä»¿å‡½æ•° std::bind åˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹åï¼Œçº¿ç¨‹å°±ä¼šå¼€å§‹æ‰§è¡Œï¼Œä½†æ˜¯çº¿ç¨‹å¯èƒ½ä¼šåœ¨ä¸»çº¿ç¨‹ç»“æŸä¹‹åè¿˜éœ€è¦è¿è¡Œï¼Œå› æ­¤éœ€è¦ä½¿ç”¨std::thread::joinæ–¹æ³•æ¥ç­‰å¾…çº¿ç¨‹ç»“æŸã€‚\nä¹Ÿå¯ä»¥é€šè¿‡std::thread::detachåœ¨ä¸»çº¿ç¨‹åå°è¿è¡Œï¼Œä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œç»“æŸã€‚ ç»‘å®šæ™®é€šå‡½æ•° 1 2 3 4 5 6 7 8 9 void print() { std::cout \u0026lt;\u0026lt; \u0026#34;Hello, World!\u0026#34; \u0026lt;\u0026lt; std::endl; } void bindaThread() { std::thread t1(print); t1.join(); } ç»‘å®šç±»æˆå‘˜å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 class Foo { public: void print(){ std::cout \u0026lt;\u0026lt; \u0026#34;This is a class member function\u0026#34; \u0026lt;\u0026lt; std::endl; } } void bindClassMember() { Foo foo; std::thread t(\u0026amp;Foo::print, \u0026amp;foo); t.join(); } ç»‘å®šlambda 1 2 3 4 5 6 void bindLambda() { std::thread t([](){ std::cout \u0026lt;\u0026lt; \u0026#34;Bind a lambda function\u0026#34; \u0026lt;\u0026lt; std::endl; }) } ç»‘å®šä»¿å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 struct ClassLikeFunc { void operator()() { std::cout \u0026lt;\u0026lt; \u0026#34;Bind a class like function\u0026#34; \u0026lt;\u0026lt; std::endl; } } void bindClassLikeFunc() { std::thread t{ClassLikeFunc()}; t.join(); } å¦‚éœ€è¦ä¼ å‚ï¼Œåˆå§‹åŒ–æ—¶std::thread t(func,params)å³å¯ã€‚\næ³¨æ„ std::threadä¸æ”¯æŒæ‹·è´æ„é€ ï¼Œåªèƒ½é€šè¿‡ç§»åŠ¨æ„é€ ã€‚ å› æ­¤ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å¯ä»¥é€šè¿‡std::move()çš„æ–¹å¼å°†æ‰€æœ‰æƒè½¬ç§»ç»™å…¶ä»–çº¿ç¨‹ std::threadé»˜è®¤ä¼ å‚æ˜¯ä»¥æ‹·è´çš„æ–¹å¼ï¼Œå¦‚æœè¦ä¼ å…¥å¼•ç”¨ï¼Œéœ€è¦é€šè¿‡std::ref() ","permalink":"http://localhost:14745/posts/cpp-thread-basic/","summary":"C++å¤šçº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ","title":"Cpp Thread Basic"},{"content":"leetcode 743 åŸé¢˜\nåˆ†æ é¢˜ç›®è¦æ±‚è®¡ç®—ä»èµ·å§‹èŠ‚ç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯åˆ°æœ€è¿œè·ç¦»çš„æœ€å°æ—¶é—´ã€‚ ä½¿ç”¨dijkstraç®—æ³•å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 class Solution { public: int networkDelayTime(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; times, int n, int k) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; g(n, vector\u0026lt;int\u0026gt;(n, INT_MAX / 2));// å®šä¹‰å›¾ï¼Œ g[i][j] for (auto\u0026amp; t : times) { g[t[0] - 1][t[1] - 1] = t[2]; } vector\u0026lt;int\u0026gt; dis(n, INT_MAX / 2), done(n); // dis[i] è¡¨ç¤ºk-\u0026gt; içš„æœ€çŸ­è·¯ dis[k - 1] = 0; // èµ·å§‹èŠ‚ç‚¹ä¸ºk èµ·å§‹è·ç¦»ä¸º0 while (true) { int x = -1; for (int i = 0; i \u0026lt; n; i++) { // éå†dis å¯»æ‰¾è·ç¦»æœ€çŸ­çš„ç‚¹ if (!done[i] \u0026amp;\u0026amp; (x \u0026lt; 0 || dis[i] \u0026lt; dis[x])) { x = i; } } // å¦‚æœ æ²¡æœ‰æ‰¾åˆ°æœªå¤„ç†çš„ç‚¹ï¼Œç›´æ¥è¿”å› if (x \u0026lt; 0) return ranges::max(dis); // å¦‚æœæ‰¾åˆ°çš„è·ç¦»æœ€å°çš„ç‚¹çš„è·ç¦»è¿˜æ˜¯inf è¿”å›-1ï¼Œè¡¨ç¤ºä¸å¯è¾¾ if (dis[x] == INT_MAX / 2) return -1; done[x] = true; // æ›´æ–°è¯¥èŠ‚ç‚¹ä¸ºè®¿é—®è¿‡ for (int y = 0; y \u0026lt; n; y++) { dis[y] = min(dis[y], dis[x] + g[x][y]); // ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·å§‹èŠ‚ç‚¹ï¼Œæ›´æ–°æœ€å°è·ç¦» } } } }; æ—¶é—´å¤æ‚åº¦ åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸º$O(n^2)$ ç©ºé—´å¤æ‚åº¦ ä½¿ç”¨äº†é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ä¸º$O(n^2)$ ","permalink":"http://localhost:14745/posts/leetcode-743/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 743"},{"content":"leetcode 3238 åŸé¢˜\nåˆ†æ é¢˜ç›®å®šä¹‰ç©å®¶çš„æŸä¸ªé¢œè‰²çš„çƒçš„ä¸ªæ•°å¤§äºç©å®¶idä¸ºèƒœåˆ©ç©å®¶ï¼Œ\nå› æ­¤éœ€è¦ç»Ÿè®¡æ¯ä¸ªç©å®¶çš„å¯¹åº”é¢œè‰²çš„çƒçš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¦å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ $arr[playerId][ballColor]$ è¡¨ç¤ºç©å®¶idä¸ºplayerIdï¼Œçƒé¢œè‰²ä¸ºballColorçš„çƒæ•°é‡ã€‚ ä¸€ä¸ªç©å®¶åªèƒ½è¢«è®°å½•ä¸€æ¬¡èƒœåˆ©ç©å®¶ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ ‡è®°æ•°ç»„$tags[playerCount]$æ ‡è®°ç©å®¶æ˜¯å¦å·²ç»è¢«è®°å½•è¿‡ ä¸€æ—¦æŸä¸ªç©å®¶çš„$arr[playerId][ballColor]\u0026gt;playerId$ï¼Œèƒœåˆ©ç©å®¶ç»“æœæ•°é‡+1ï¼Œä¸”è¦å°†$tags[playerId]$æ ‡è®°ä¸ºtrueï¼Œè¡¨ç¤ºè¯¥ç©å®¶å·²ç»è¢«è®°å½•ä¸ºèƒœåˆ©ç©å®¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // 1. // const int MXN =20; // int arr[MXN][11]{0}; // bool tags[MXN]{false}; class Solution { public: int winningPlayerCount(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; pick) { // 2. vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; arr(n,vector\u0026lt;int\u0026gt;(11,0)); vector\u0026lt;bool\u0026gt; tags(n,false); int result = 0; for (auto pic : pick) { // playerId = pic[0]; // ballColor = pic[1]; // tags[playerId]æœªè¢«è®°å…¥ç»“æœæ—¶ï¼Œä¸”arr[playerId][ballColor]\u0026gt;playerId // ç»“æœ+1 å°†tags[playerId] æ ‡è®°ä¸ºtrue int playerId = pic[0]; int ballColor = pic[1]; ++arr[playerId][ballColor]; if (tags[playerId] == false \u0026amp;\u0026amp; arr[playerId][ballColor] \u0026gt; playerId) { result++; tags[playerId] = true; } } return result; } }; æ—¶é—´å¤æ‚åº¦ å¯¹äºæ¯ä¸ªpic éƒ½éœ€è¦éå†ä¸€æ¬¡ å¯¹äºä¸¤ä¸ªæ•°ç»„ï¼Œéœ€è¦å¯¹$n*max(y)$çš„æ•°ç»„åˆå§‹åŒ– å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º$O(n*max(y)+m)$ $m$ä¸ºpickçš„é•¿åº¦ï¼Œ$n$ä¸ºplayerIdçš„æ•°é‡ï¼Œ$y$ä¸ºçƒé¢œè‰²æ•°é‡ ç©ºé—´å¤æ‚åº¦ éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º$O(n*y)$\nä¸€äº›é—®é¢˜ å°šæœªææ˜ç™½ï¼Œä¸ºä»€ä¹ˆæ³¨é‡Š1çš„å®šä¹‰æ–¹å¼æœ¬åœ°å¯ä»¥é€šè¿‡leetcodeæ— æ³•é€šè¿‡ï¼Œæ³¨é‡Š2çš„å¯ä»¥\n","permalink":"http://localhost:14745/posts/leetcode-3238/","summary":"Leetcode 3238 æ¯æ—¥ä¸€é¢˜ ç®€å•é¢˜","title":"Leetcode 3238"},{"content":"åŸé¢˜\nleetcode 3233 çœŸå› æ•°ï¼šå¯¹äºä¸€ä¸ªæ•°å­—x xé™¤äº†xæœ¬èº«ä»¥å¤–çš„æ‰€æœ‰æ­£å› æ•°ä¸ºå…¶çœŸå› æ•° ç‰¹æ®Šæ•°å­—çš„å®šä¹‰ä¸ºï¼šä»…æœ‰ä¸¤ä¸ªçœŸéŸ³æ•°çš„æ•°å­—ä¸ºç‰¹æ®Šæ•°å­—ã€‚\nä»å®šä¹‰ä¸Šçœ‹ï¼Œç‰¹æ®Šæ•°å­—$z$ä¸€å®šæœ‰ä¸€ä¸ªå› æ•°ä¸º1ï¼Œé‚£ä¹ˆå…¶å¦ä¸€ä¸ªçœŸå› æ•°ä¸€å®šæ˜¯$\\sqrt{z}$ï¼Œ å¦åˆ™å°±ä¼šæœ‰åŠ ä¸Š1çš„ä¸‰ä¸ªçœŸå› æ•°ï¼Œå°±ä¼šå¯¼è‡´$z$ä¸æ˜¯ç‰¹æ®Šæ•°å­—ï¼Œå› ä¸º$z$æœ‰3ä¸ªçœŸå› æ•° $\\sqrt{z}$ä¸€å®šä¸ºè´¨æ•°ï¼Œå¦åˆ™$\\sqrt{z}$ä¹Ÿä¼šæœ‰çœŸå› æ•°ï¼Œå°±ä¼šå½±å“$z$æœ¬èº« åŒºé—´[l,r]å†…çš„ç‰¹æ®Šæ•°å­—ä¸ªæ•°ï¼Œå°±æ˜¯[0,r]ç‰¹æ®Šæ•°å­—ä¸ªæ•°å‡å»[0,l-1]ç‰¹æ®Šæ•°å­—ä¸ªæ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 const int MX = 31622; int pi[MX + 1]; auto init = []() { for (int i = 2; i \u0026lt;= MX; i++) { if (pi[i] == 0) { // iä»2å¼€å§‹ içš„å€æ•°å·²ç»è¢«æ ‡è®°ä¸º-1äº† pi[i] = pi[i - 1] + 1; for (int j = i * i; j \u0026lt;= MX; j += i) { pi[j] = -1; } } else { pi[i] = pi[i - 1]; } } return 0; }(); class Solution { public: int nonSpecialCount(int l, int r) { return r - l + 1 - (pi[int(sqrt(r))] - pi[int(sqrt(l - 1))]); } }; æ—¶é—´å¤æ‚åº¦ $O(1)$ ç©ºé—´å¤æ‚åº¦ $O(1)$ ","permalink":"http://localhost:14745/posts/leetcode-3233/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 3233"},{"content":"Leetcode 3240 åŸé¢˜é“¾æ¥\né¢˜ç›®è¦æ±‚æ‰€æœ‰çš„è¡Œå’Œåˆ—éƒ½æ˜¯å›æ–‡ï¼Œåˆé™åˆ¶1çš„ä¸ªæ•°éœ€è¦è¢«4æ•´é™¤ã€‚\nè¡Œåˆ—å‡å›æ–‡å³è¦æ±‚ $$ arr[i][j] = arr[m-1-i][j] = arr[i][n-1-j] = arr[m-1-i][n-1-j] $$ éå†æ•°ç»„ï¼Œè®¡ç®—$cnt1=arr[i][j] + arr[n-1-i][j] + arr[i][n-1-j] + arr[n-1-i][n-1-j]$çš„å’Œï¼Œå’Œå³ä¸º1çš„ä¸ªæ•°ï¼Œå°†$min(result, cnt1)$è®¡å…¥ç»“æœã€‚ å¦‚æœä¸ºå¶æ•°è¡Œå¶æ•°åˆ—ï¼Œæ­¤æ—¶å·²ç»è®¡ç®—å®Œæ¯•ï¼Œåä¹‹ ä¸­å¿ƒå…ƒç´ å¿…é¡»ä¸º0ï¼Œ$result+=arr[m/2][n/2]$, $arr[m/2][n/2]=0$æ—¶ä¸ä¼šè®¡å…¥ä¿®æ”¹æ¬¡æ•°æ‰€ä»¥ç›´æ¥ç›¸åŠ å³å¯ è®¡ç®—ä¸­å¿ƒè¡Œæˆ–ä¸­å¿ƒåˆ—ï¼Œå…ˆè®¡ç®—åŒ¹é…çš„1ä¸ªæ•°ï¼Œè®°ä¸º$cnt$ï¼Œè®¡ç®—éœ€è¦ä¿®æ”¹çš„å¯¹æ•°$diff$ $cnt%4==0$ 1çš„ä¸ªæ•°èƒ½è¢«4æ•´é™¤ï¼Œ$diff$å¯¹å…¨æ”¹ä¸º0ï¼Œè®¡å…¥ç»“æœ $cnt%4==2$ 1çš„ä¸ªæ•°ä¸èƒ½4æ•´é™¤ï¼Œ $diff==0$ï¼Œå°†$cnt%4$ä½™ä¸‹çš„ä¸¤ä¸ªæ”¹ä¸º0å³å¯ï¼Œ$diff!=0$ é€‰æ‹©diffä¸­çš„ä¸€å¯¹æ”¹ä¸º1ï¼Œå…¶ä½™çš„æ”¹ä¸º0å³å¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 class Solution { public: int minFlips(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; grid) { /* grid[i][j]=grid[m-i-1][j] åˆ—ç›¸ç­‰ grid[i][j]=grid[i][n-j-1] è¡Œç›¸ç­‰ grid[i][n-j-1] = grid[m-i-1][n-j-1] */ int m = grid.size(), n = grid[0].size(); int result = 0; for (int i = 0; i \u0026lt; m / 2; i++) { for (int j = 0; j \u0026lt; n / 2; j++) { int cnt1 = grid[i][j] + grid[i][n - 1 - j] + grid[m - 1 - i][j] + grid[m - 1 - i][n - 1 - j]; // è®¡ç®—çš„ç»“æœå°±æ˜¯1çš„ä¸ªæ•°ï¼Œå°†å…¶å˜ä¸º0å³å¯ result += min(cnt1, 4 - cnt1); // å…¨å˜ä¸º1æˆ–å…¨å˜ä¸º0 } } if (m % 2 \u0026amp;\u0026amp; n % 2) { result += grid[m / 2][n / 2]; // ç¡®ä¿ä¸­é—´ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œ+0ä¸ä¼šå˜åŒ–ï¼Œå¦‚æœä¸º1ï¼Œ+1å˜æ¢æ¬¡æ•°+1 } /* å•ç‹¬è®¨è®ºå¥‡æ•°è¡Œå’Œå¥‡æ•°åˆ— é•œåƒä½ç½®å¦‚æœéƒ½ä¸€æ ·ï¼Œèƒ½ä¸æ”¹å°±ä¸æ”¹ï¼Œå…ˆç»Ÿè®¡ä¸æ”¹çš„ä½ç½®æœ‰å¤šå°‘ä¸ª1ï¼Œ è®°ä½œcnt1, éœ€è¦ä¿®æ”¹çš„ä¸ºdiff åˆ†ç±»è®¨è®º cnt1%4 = 0 diffå¯¹å…¨éƒ¨æ”¹ä¸º0 or cnt1%4 = 2 diff\u0026gt;0 é€‰æ‹©ä¸€å¯¹ï¼Œæ”¹ä¸º1 diff==0 é€‰æ‹©åŸæ¥ä¸æ”¹çš„ä¸€å¯¹ï¼Œæ”¹ä¸º0å³å¯ */ // æœ‰å¥‡æ•°è¡Œ int diff = 0, cnt1 = 0; if (m % 2) { for (int i = 0; i \u0026lt; n / 2; i++) { if (grid[m / 2][i] != grid[m / 2][n - 1 - i]) diff++; else cnt1 += grid[m / 2][i] * 2; } } // æœ‰å¥‡æ•°åˆ— if (n % 2) { for (int i = 0; i \u0026lt; m / 2; i++) { if (grid[i][n / 2] != grid[m - 1 - i][n / 2]) diff++; else cnt1 += grid[i][n / 2] * 2; } } // å¦‚æœä¸€è‡´çš„1çš„ä¸ªæ•°èƒ½å¤Ÿæ•´é™¤4 è¿”å› result+diff å³å°†diffä¸­ä¸ä¸º0çš„æ”¹ä¸º0 if (cnt1 % 4 == 0) return result + diff; // å¦‚æœä¸€è‡´çš„1çš„ä¸ªæ•°æ— æ³•æ•´é™¤4 è¿”å› result+(cnt1%4)+diff // å°†æ•´é™¤4ä½™ä¸‹çš„ä¸ªæ•°å…¨æ”¹ä¸º1å³å¯ return result + (diff ? diff : cnt1 % 4); // return result + (diff ? diff : cnt1 % 4); } }; æ—¶é—´å¤æ‚åº¦ éå†æ•°ç»„ï¼Œå¤æ‚åº¦ä¸ºO(m*n) ç©ºé—´å¤æ‚åº¦ åªéœ€è¦å¸¸æ•°é‡çš„å˜é‡å­˜å‚¨ç»“æœï¼Œæ‰€ä»¥æœªO(1) ","permalink":"http://localhost:14745/posts/leetcode-3240/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 3240"},{"content":"leetcode 3243 åŸé¢˜é“¾æ¥ æœ¬é¢˜çš„æ±‚è§£æ€è·¯ä¸ºï¼šæ¨¡æ‹Ÿå³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Solution { public: int finalPositionOfSnake(int n, vector\u0026lt;string\u0026gt;\u0026amp; commands) { int startX = 0, startY = 0; for (auto\u0026amp; command : commands) { if (command == \u0026#34;RIGHT\u0026#34; || command == \u0026#34;LEFT\u0026#34;) startY = startY + (command == \u0026#34;LEFT\u0026#34; ? -1 : 1); else if (command == \u0026#34;UP\u0026#34; || command == \u0026#34;DOWN\u0026#34;) startX = startX + (command == \u0026#34;UP\u0026#34; ? -1 : 1); } return ((startX)*n - 1) + startY + 1; } }; æ—¶é—´å¤æ‚åº¦åˆ†æ éå†commandsæ•°å­—æ—¶é—´å¤æ‚åº¦ä¸ºO(N) ç©ºé—´å¤æ‚åº¦åˆ†æ å¸¸é‡çš„å­˜å‚¨ç©ºé—´ O(1) ","permalink":"http://localhost:14745/posts/leetcode-3248/","summary":"leetcode æ¯æ—¥ä¸€é¢˜ï¼Œç®€å•é¢˜","title":"Leetcode 3248"},{"content":"leetcode 3243 åŸé¢˜é“¾æ¥ æœ¬é¢˜çš„æ±‚è§£æ€è·¯ä¸ºï¼šæ¯æ¬¡æ›´æ–°ä¸€æ¡è¾¹å°±è¦è¿›è¡Œä¸€æ¬¡æ±‚èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class Solution{ private: int bfs(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp;neighbor) { vector\u0026lt;int\u0026gt; dist(n,-1); // å®šä¹‰æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„è·ç¦» queue\u0026lt;int\u0026gt; q; // ç”¨äºbfséå†çš„é˜Ÿåˆ— q.push(0); // å°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ— dist[0]=0; // 0~0 è·ç¦»ä¸º0 while(!q.empty()) { int x = q.front(); // å–å‡ºå½“å‰èµ·ç‚¹ q.pop(); for(auto \u0026amp;y: neighbor[x]) // éå†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ { if(dist[y]!=-1) continue; // å¦‚æœå·²ç»è®¿é—®è¿‡äº†ï¼Œç›´æ¥è·³è¿‡ q.push(y); dist[y] = dist[x]+1; // è®¡ç®—0åˆ°xçš„è·ç¦»ï¼Œ+1 } } return dist[n-1]; } public: vector\u0026lt;int\u0026gt; shortestDistanceAfterQueries(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; queries) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; graph(n); // å®šä¹‰å›¾ vector\u0026lt;int\u0026gt; result; // å®šä¹‰ç»“æœé›† for (int i = 0; i \u0026lt; n - 1; i++) { graph[i].emplace_back(i+1); // å»ºå›¾ } for (auto\u0026amp; query : queries) { graph[query[0]].emplace_back(query[1]); // æ’å…¥è¾¹ result.emplace_back(bfs(n, graph)); // è®¡ç®—å›¾æ›´æ–°åçš„ç»“æœ } return result; } }; æ—¶é—´å¤æ‚åº¦åˆ†æ æ¯æ¬¡æ’å…¥ä¸€æ¡è¾¹ï¼Œéƒ½è¦éå†ä¸€æ¬¡ æ¯æ¬¡bfsï¼Œéƒ½éœ€è¦éå†n+qæ¬¡ æ—¶é—´å¤æ‚åº¦ä¸ºO(q*(n+q)) ç©ºé—´å¤æ‚åº¦åˆ†æ å­˜å‚¨å›¾å’Œç»“æœé›†ï¼Œéœ€è¦O(n+q)çš„ç©ºé—´ ","permalink":"http://localhost:14745/posts/leetcode-3243/","summary":"leetcode æ¯æ—¥ä¸€é¢˜ å›¾çš„bfsæ±‚è§£ ä¸­ç­‰é¢˜","title":"Leetcode 3243"},{"content":"Hello World! This is my first post.\n1 print(\u0026#34;Hello World!\u0026#34;) ","permalink":"http://localhost:14745/posts/my-first-post/","summary":"\u003cp\u003eHello World!\nThis is my first post.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;Hello World!\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e","title":"My First Post"},{"content":"è‡ªæˆ‘ä»‹ç» C++ i++ ,++i i++æ˜¯å³å€¼ï¼Œ++iæ˜¯å·¦å€¼ å¦‚æœåœ¨ä¸€æ¡è¯­å¥å†…æ‰§è¡Œi++, ä¼šå…ˆè·å–içš„å€¼ï¼Œç„¶åæ‰§è¡Œè¯­å¥ï¼Œæ‰§è¡Œç»“æŸåiè‡ªå¢1 å¦‚æœåœ¨ä¸€æ¡è¯­å¥å†…æ‰§è¡Œ++i, ä¼šå…ˆå¯¹iè‡ªå¢1ï¼Œç„¶åæ‰§è¡Œè¯­å¥ è¡¥å……ï¼šä¸€èˆ¬æ¥è®²ï¼Œi++ çš„æ‰§è¡Œæ“ä½œä¸ºï¼šä½¿ç”¨ä¸´æ—¶å¯¹è±¡ä¿å­˜içš„å€¼ï¼Œç„¶åæ‰§è¡Œi+1ï¼Œè¿”å›ä¸´æ—¶å¯¹è±¡ï¼›++i ç›´æ¥å¯¹iè‡ªå¢ï¼Œä¸æ¶‰åŠä¸´æ—¶å˜é‡ for-loop for(int i = 0;i\u0026lt;10;i++/++i\u0026gt;): ++i ä¸i++ è¾“å‡ºiï¼Œç»“æœä¸€è‡´å—ï¼Ÿ ä¸€è‡´\nfor()çš„ä½¿ç”¨\nforå¦‚æœä½¿ç”¨ä¹‹å‰å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥ç›´æ¥ä»¥for (;condition;expression) å¾ªç¯ï¼Œå¾ªç¯å¼€å§‹æ—¶ä¼šè·å–å˜é‡çš„åˆå§‹å€¼ï¼Œåˆ¤æ–­æœ¬æ¬¡æ‰§è¡Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œæ»¡è¶³åˆ™æ‰§è¡Œï¼Œæ‰§è¡Œå®Œå¾ªç¯ä½“ï¼Œå¾ªç¯å˜é‡æ›´æ–°ï¼Œä¸æ»¡è¶³åˆ™ç»“æŸå¾ªç¯ ä¹Ÿå¯ä»¥ä½¿ç”¨for(init;condition;expression) 3. å…¶ä»–æƒ³åˆ°çš„è¡¥å……ï¼š\nå¯¹è±¡åˆå§‹åŒ– å›ç­”ä¼šæ ¹æ®ä¼ é€’çš„å‚æ•°ï¼Œè°ƒç”¨ä¸åŒçš„é‡è½½ã€‚ä¹Ÿå¯ä»¥æ ¹æ®æˆå‘˜å˜æˆï¼Œéšå¼æ„é€ ï¼›ä¹Ÿå¯ä»¥å°†æ„é€ å‡½æ•°å£°æ˜ä¸ºexplicitçš„ï¼Œç¦æ­¢éšå¼æ„é€ ã€‚ é¢è¯•å®˜é—®è¿˜æœ‰å—ï¼Ÿä¸çŸ¥é“é—®çš„ä»€ä¹ˆï¼Œç„¶åç»§ç»­é—®äº†è™šå‡½æ•°ã€‚\nè™šå‡½æ•° æˆå‘˜å‡½æ•°ï¼Œé€šè¿‡virtualä¿®é¥°ï¼Œå­ç±»ç»§æ‰¿æ—¶å¯ä»¥é€‰æ‹©æ˜¯å¦é‡è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡virtual æˆå‘˜å‡½æ•°=0çš„æ–¹å¼å£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œå­ç±»å¿…é¡»é‡è½½ã€‚ å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œæ„é€ å­ç±»æ—¶éœ€è¦å…ˆæ„é€ çˆ¶ç±»ï¼Œææ„æ—¶é€šè¿‡å£°æ˜çˆ¶ç±»ææ„ä¸ºvirtualï¼Œå…ˆææ„å­ç±»ï¼Œåææ„çˆ¶ç±»ã€‚ è¡¥å……ï¼š\nçº¯è™šå‡½æ•°çš„çˆ¶ç±»ä¸ºè™šåŸºç±»ï¼Œæ— æ³•å®ä¾‹åŒ–ã€‚ å¦‚æœæ„é€ å‡½æ•°ä¸­åŒ…å«è™šå‡½æ•°ï¼Œå› ä¸ºå­ç±»è¿˜æ²¡æœ‰æ„é€ ï¼Œæ²¡æœ‰è™šå‡½æ•°æŒ‡é’ˆï¼Œå› æ­¤ä¼šè°ƒç”¨çˆ¶ç±»çš„è™šå‡½æ•°ã€‚ è™šå‡½æ•°ï¼Œæˆå‘˜å‡½æ•°ä¼šå­˜å‚¨åœ¨ä»£ç æ®µï¼Œè™šå‡½æ•°è¡¨å­˜å‚¨åœ¨rodataæ®µ åœ¨ææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼šåŸºç±»ææ„å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†çš„å¯¹è±¡å·²ç»è¢«é”€æ¯ï¼Œè™šå‡½æ•°è¡¨çš„æŒ‡é’ˆå¯èƒ½ä¸å†æœ‰æ•ˆï¼Œå¯¼è‡´è™šå‡½æ•°è°ƒç”¨çš„è¡Œä¸ºä¸å¯é¢„æµ‹ã€‚ inline å› ä¸ºinlineä¼šåŸåœ°å±•å¼€ï¼Œæ²¡æœ‰å…·ä½“çš„åœ°å€ï¼Œæ— æ³•é€šè¿‡æŒ‡é’ˆè®¿é—® staticå‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼Œstaticæˆå‘˜å‡½æ•°æ˜¯ç±»çº§åˆ«çš„ï¼Œæ— æ³•é€šè¿‡å¤šæ€è°ƒç”¨ã€‚ å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„é™æ€èµ„æºï¼Œåªè¦å­ç±»æœ‰è®¿é—®æƒé™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 #include \u0026lt;iostream\u0026gt; class Base { public: static int x; public: static void staticFunction() { std::cout \u0026lt;\u0026lt; \u0026#34;Base static function\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int Base::x = 30; class Derived : public Base { public: static int x; public: static void derivedStaticFunction() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived static function\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int Derived::x = 40; int main() { Base::staticFunction(); // è®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å‡½æ•° Derived::staticFunction(); // å­ç±»ä¹Ÿå¯ä»¥é€šè¿‡ç±»åè®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å‡½æ•° std::cout \u0026lt;\u0026lt; Base::x \u0026lt;\u0026lt; std::endl; // è®¿é—®çˆ¶ç±»çš„é™æ€æˆå‘˜å˜é‡ std::cout \u0026lt;\u0026lt; Derived::x \u0026lt;\u0026lt; std::endl; // è®¿é—®å­ç±»çš„é™æ€æˆå‘˜å˜é‡,åŒåèµ„æº ä¼˜å…ˆè¾“å‡ºå­ç±»çš„ } è¾“å‡º\n1 2 Base static function Base static function è™šå‡½æ•°æŒ‡é’ˆ è™šå‡½æ•°æŒ‡é’ˆå­˜åœ¨å¯¹è±¡ç©ºé—´å†…ï¼Œåªæœ‰åœ¨è°ƒç”¨æ—¶ï¼Œæ‰ä¼šé€šè¿‡è™šå‡½æ•°æŒ‡é’ˆï¼Œè®¿é—®è™šå‡½æ•°è¡¨ï¼Œè°ƒç”¨å¯¹åº”çš„è™šå‡½æ•°ã€‚\nnew delete, malloc free C++å¯ä»¥è§†ä½œCçš„è¶…é›†ï¼ŒC++ç»§æ‰¿äº†Cçš„mallocå’Œfree\nnew / delete new åŠ¨æ€ç”³è¯·å†…å­˜ï¼Œè¿”å›å¯¹åº”å¯¹è±¡ç±»å‹çš„æŒ‡é’ˆï¼Œ è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–ï¼Œè®¿é—®äº†å†…å­˜ï¼Œæ¶‰åŠåˆ°è™šå®åœ°å€å˜æ¢ ç”³è¯·å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸std::bad_allocã€‚ delete é‡Šæ”¾é€šè¿‡newç”³è¯·çš„ç©ºé—´ï¼› è°ƒç”¨ç±»çš„ææ„å‡½æ•° è¡¥å……ï¼šå¯ä»¥é€šè¿‡new(nothrow)è¿”å›ç©ºæŒ‡é’ˆ; newå’Œdeleteæ˜¯C++è¿ç®—ç¬¦å¯ä»¥é‡è½½ã€‚æ˜¯å¦è®¿é—®å†…å­˜å–å†³äºå…·ä½“çš„åˆå§‹åŒ–é€»è¾‘ï¼Œè™šå®åœ°å€å˜æ¢ç”±æ“ä½œç³»ç»Ÿå®Œæˆã€‚ malloc / free malloc ç”³è¯·å†…å­˜ï¼Œè¿”å›voidç±»å‹çš„æŒ‡é’ˆï¼Œ ä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œå› æ­¤æ²¡æœ‰è®¿å­˜ ç”³è¯·å¤±è´¥ï¼Œè¿”å›NULL free é‡Šæ”¾é€šè¿‡mallocç”³è¯·çš„ç©ºé—´ï¼› è¡¥å……ï¼šmallocå’Œfreeæ˜¯Cçš„å‡½æ•°ã€‚ä¸æ”¯æŒé‡è½½ å†…å­˜å¸ƒå±€ æ ˆï¼š è‡ªåŠ¨ç®¡ç†ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè¶…å‡ºä½œç”¨åŸŸè‡ªå®šææ„ å †ï¼šæ‰‹åŠ¨ç®¡ç†ï¼Œé€šè¿‡è£¸æŒ‡é’ˆç”³è¯·æ—¶ï¼Œå¿…é¡»æ‰‹åŠ¨ææ„ï¼›ä¹Ÿå¯ä»¥é€šè¿‡æ™ºèƒ½æŒ‡é’ˆç®¡ç† å…¨å±€åŒºdataï¼šåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ ä»£ç åŒºtextï¼šä»£ç æ®µï¼Œå­˜å‚¨å‡½æ•°ï¼Œå’Œç±»çš„é™æ€æˆå‘˜å‡½æ•° bssåŒºï¼šæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œé»˜è®¤ä¸º0 rodataåŒºï¼šåªè¯»æ•°æ®ï¼Œå¸¸é‡ çº¿ç¨‹ è¿›ç¨‹åŒºåˆ« è¿›ç¨‹ è¿›ç¨‹äº«æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤å¤šè¿›ç¨‹ä¹‹é—´æ˜¯éš”ç¦»çš„ï¼Œä¸€ä¸ªè¿›ç¨‹çš„å´©æºƒå¾€å¾€ä¸ä¼šå¯¼è‡´å…¶ä»–è¿›ç¨‹å´©æºƒ è¿›ç¨‹é€šä¿¡æ¯”è¾ƒå¤æ‚ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ çº¿ç¨‹ å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤ä¸€ä¸ªçº¿ç¨‹å´©æºƒæœ‰å¯èƒ½å¯¼è‡´å…¶ä»–çº¿ç¨‹çš„å´©æºƒ çº¿ç¨‹é€šä¿¡ç®€å•ï¼Œå› æ­¤éœ€è¦é¢‘ç¹äº¤äº’ä»»åŠ¡å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ã€‚ è¡¥å……ï¼šè¿›ç¨‹é€šä¿¡åŒ…æ‹¬ï¼šç®¡é“ï¼Œå…±äº«å†…å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œsocketï¼Œä¿¡å·ï¼Œä¿¡å·é‡ï¼›çº¿ç¨‹é€šä¿¡ä¸»è¦åŒ…æ‹¬ï¼šäº’æ–¥é”ï¼Œæ¡ä»¶å˜é‡ï¼Œä¿¡å·é‡ï¼ŒåŸå­æ“ä½œï¼Œäº’æ–¥é‡ï¼Œè¯»å†™é”ã€‚ æ•°æ®åº“ç´¢å¼• å°´å°¬ï¼Œç­”æˆå¼•æ“äº†ã€‚ç„¶ååˆå›ç­”ä¸€é\nB+ï¼š å¤šè·¯å¹³è¡¡ï¼Œé«˜åº¦æ¯”è¾ƒçŸ®ï¼Œå¿«é€ŸæŸ¥è¯¢ï¼Œå¶å­èŠ‚ç‚¹ä¸ºé“¾è¡¨ç»“æ„ï¼Œæ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œéå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•èŠ‚ç‚¹ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ® Bï¼šä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œéå¶å­èŠ‚ç‚¹ä¹Ÿå¯ä»¥å­˜å‚¨æ•°æ® å•åˆ—ç´¢å¼•ï¼šå•ä¸ªå­—æ®µåˆ›å»ºç´¢å¼• è”åˆç´¢å¼•ï¼šå¤šä¸ªå­—æ®µåˆ›å»ºç´¢å¼•ï¼Œéœ€è¦ä¸»è¦æœ€å·¦åŒ¹é…åŸåˆ™ è¡¥å……ï¼šå“ˆå¸Œç´¢å¼•ï¼šå¿«é€ŸæŸ¥æ‰¾ï¼Œæ— æ³•æ’åºï¼Œä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œ é¡¹ç›® é—®åˆ°æœ‰æ²¡æœ‰æµ‹è¿‡å¹¶å‘é‡ã€‚å›ç­”æ²¡æœ‰ï¼Œä½†æ˜¯æ ¹æ®ä¹‹å‰æµ‹è¯•çº¿ç¨‹æ± çš„ç»éªŒï¼Œåº”è¯¥å¯ä»¥æ”¯æŒ1wç”¨æˆ·ã€‚\nç½‘ç»œéƒ¨åˆ† æµè§ˆå™¨è®¿é—®urlåˆ°æ¸²æŸ“é¡µé¢çš„å…·ä½“è¿‡ç¨‹ DNSè§£æ æœ‰ç¼“å­˜å…ˆæŸ¥ç¼“å­˜ æ²¡æœ‰ç¼“å­˜ï¼ŒæŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨ï¼Œæ ¹åŸŸåæœåŠ¡å™¨é€šè¿‡æ ‘çŠ¶ç»“æ„æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸåæŸ¥è¯¢è´Ÿè´£è¯¥åŸŸåçš„æƒå¨åŸŸåæœåŠ¡å™¨ æƒå¨åŸŸåæœåŠ¡å™¨è¿”å›IPåœ°å€ TCPæ¡æ‰‹ IP åŒä¸€ä¸ªå­ç½‘ï¼Œé€šè¿‡arpå¯»æ‰¾å¯¹åº”çš„macï¼Œä¸åŒå­ç½‘é€šè¿‡é»˜è®¤è·¯ç”±è½¬å‘ï¼Œé€šè¿‡è·¯ç”±å™¨è‡ªåŠ¨æ›´æ–°ä¸‹ä¸€è·³çš„macåœ°å€å¯»æ‰¾ç›®æ ‡macåœ°å€ å°è£…httpæ¶ˆæ¯ï¼Œè¯·æ±‚è¡Œï¼Œè¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œ é€šè¿‡äº¤æ¢æœºæˆ–è·¯ç”±å™¨å°†ä¿¡æ¯è½¬ä¸ºäºŒè¿›åˆ¶æµï¼Œå‘é€åˆ°ç›®æ ‡ä¸»æœº æœåŠ¡å™¨æ”¶åˆ°åé€šè¿‡æ‹†åŒ…ï¼Œåè®®æ ˆè‡ªåº•å‘ä¸Šåˆ°è¾¾åº”ç”¨å±‚ï¼ŒçŸ¥é“æ˜¯httpæ¶ˆæ¯ï¼Œå–å‡ºå¯¹åº”çš„èµ„æºï¼Œä»¥å“åº”è¡Œï¼šstatus_codeç­‰ï¼Œå“åº”å¤´ï¼Œå“åº”ä½“ï¼Œç»åè®®æ ˆè‡ªé¡¶å‘ä¸‹å‘é€ å®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯ï¼Œé€šè¿‡æµè§ˆå™¨æ¸²æŸ“å¾—åˆ°é¡µé¢ å¦‚ä½•åŠ å¿«httpçš„é€Ÿåº¦ é€‰æ‹©å‹ç¼©ç®—æ³•ï¼Œå‹ç¼©æ¶ˆæ¯ä½“ æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œè¿”å›æœ€è¿‘çš„æœ€å¿«çš„æœåŠ¡å™¨ é€‰æ‹©åˆé€‚çš„åè®®ï¼Œå› ä¸ºTCPå¾ˆæ…¢ï¼Œæ‰€ä»¥http3.0 ä½¿ç”¨äº†UDPå®ç°çš„quic å°†ç”¨æˆ·è®¿é—®è¿‡çš„èµ„æºï¼Œåœ¨æœ¬åœ°ç¼“å­˜ è¡¥å……ï¼šå…¶ä»–ä¼˜åŒ–æ–¹å¼ï¼šåˆå¹¶å¤šä¸ªcssã€jsä½¿ç”¨ä¸€ä¸ªhttpè¿æ¥å‘é€ï¼Œå‡å°‘è¯·æ±‚æ•°é‡ï¼›å¼‚æ­¥åŠ è½½jsï¼›ä½¿ç”¨é«˜æ•ˆçš„å›¾åƒå‹ç¼©ç®—æ³•ï¼Œå‹ç¼©å›¾åƒ è¡¥å……ç¼“å­˜ï¼š æµè§ˆå™¨ç¼“å­˜ï¼šé€šè¿‡è®¾ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚Cache-Controlã€Expiresï¼‰åœ¨æµè§ˆå™¨ç«¯ç¼“å­˜å¸¸ç”¨èµ„æºï¼Œé¿å…æ¯æ¬¡è¯·æ±‚éƒ½é‡æ–°ä»æœåŠ¡å™¨åŠ è½½èµ„æºï¼Œæ˜¾è‘—æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ CDNç¼“å­˜ï¼šå†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰å°†èµ„æºç¼“å­˜åˆ°ç¦»ç”¨æˆ·æ›´è¿‘çš„èŠ‚ç‚¹ï¼Œé€šè¿‡åœ°ç†ä½ç½®åˆ†å‘å‡å°‘ç½‘ç»œå»¶è¿Ÿï¼Œæå‡å“åº”é€Ÿåº¦ã€‚ æœåŠ¡å™¨ç«¯ç¼“å­˜ï¼šå¯¹äºå¸¸ç”¨çš„åŠ¨æ€èµ„æºï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ç»“æœï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ Redis æˆ– Memcached ç­‰ç¼“å­˜æŠ€æœ¯ï¼Œå‡å°‘æ•°æ®åº“çš„å‹åŠ›ï¼Œå¿«é€Ÿè¿”å›å¸¸è§è¯·æ±‚çš„ç»“æœã€‚ æœåŠ¡å·¥ä½œè€…ç¼“å­˜ï¼šç°ä»£æµè§ˆå™¨æä¾›æœåŠ¡å·¥ä½œè€…ï¼ˆService Workersï¼‰æ¥ç¼“å­˜èµ„æºå¹¶æä¾›ç¦»çº¿æ”¯æŒï¼Œä½¿å¾—å³ä½¿æ²¡æœ‰ç½‘ç»œï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨åº”ç”¨ç¨‹åºã€‚ å¯¹å¦‚ä½•æˆä¸ºä¸€ä¸ªä¼˜ç§€çš„å¼€å‘è€…æœ‰ä»€ä¹ˆçœ‹æ³• ä¸»è§‚é¢˜ã€‚ã€‚ã€‚\næ‰‹æ’• äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ ACMæ¨¡å¼ï¼Œå†™å‡ºå‡½æ•°è®²è§£æ€è·¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 struct TreeNode{ int val; TreeNode *left; TreeNode *right; TreeNode():val(0),left(nullptr), right(nullptr){} TreeNode(int _val):val(_val),left(nullptr), right(nullptr){} }; TreeNode * commonAncestor(TreeNode *root, TreeNode *p, TreeNode *q){ if(!root||p==root||q==root) return p; auto left = commonAncestor(root-\u0026gt;left, p, q); auto right = commonAncestor(root-\u0026gt;right, p, q); if(left\u0026amp;\u0026amp;right) return root; return left?left:right; } ","permalink":"http://localhost:14745/posts/%E5%BF%AB%E6%89%8B%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%80%E9%9D%A2/","summary":"12/09/2024 å¿«æ‰‹å¹¿å‘Šéƒ¨é—¨å®¢æˆ·ç«¯ä¸€é¢","title":"å¿«æ‰‹å®¢æˆ·ç«¯ä¸€é¢"},{"content":"æ— è‡ªæˆ‘ä»‹ç» ç†Ÿæ‚‰çš„C++ç‰ˆæœ¬ C++11ä»¥åçš„åŸºæœ¬éƒ½äº†è§£ä¸€äº›ï¼Œ æ²¡æœ‰ç‰¹åˆ«é’ˆå¯¹æŸä¸ªç‰ˆæœ¬.\næ™ºèƒ½æŒ‡é’ˆ shared_ptr: æ”¯æŒæ‹·è´ã€ç§»åŠ¨ï¼Œå¯ä»¥ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œé¿å…å¤§å¯¹è±¡çš„æ‹·è´. å¼•ç”¨è®¡æ•°æ˜¯çº¿ç¨‹å®‰å…¨çš„ unique_ptrï¼šæ”¯æŒç§»åŠ¨ï¼Œå¯ä»¥é€šè¿‡è½¬ç§»æ‰€æœ‰æƒçš„æ–¹å¼ï¼Œå°†å¯¹è±¡çš„æ‰€æœ‰æƒè½¬ç§»ç»™å¦ä¸€ä¸ªç‹¬å æŒ‡é’ˆ weal_ptr: æ”¯æŒæ‹·è´ï¼Œå¯ä»¥ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è½¬ç§»æ‰€æœ‰æƒï¼Œåªèƒ½é€šè¿‡weak_ptrè½¬æˆshared_ptr gdb gccæœ‰ç”¨è¿‡å— ä¸æ€ä¹ˆç”¨gdb gccæœ‰äº†è§£\ngccå¦‚ä½•é¢„å¤„ç† å¿˜äº†ï¼Œå›ç­”gccæœ‰å‚æ•°æ§åˆ¶\n1 gcc -E main.c -o main.i å¦‚ä½•è·å–ä¸è¿›è¡Œé“¾æ¥çš„ä»£ç  å¿˜äº†ï¼Œå›ç­”gccæœ‰å‚æ•°æ§åˆ¶\n1 gcc -c main.c -o main.o çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ é€šè¿‡C++11std::call_onceå®ç° å¯¹æŒ‡é’ˆåˆ¤ç©ºæ‰§è¡Œä¸¤æ¬¡ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡åˆ¤æ–­ä¸ºç©ºååˆå§‹åŒ–å‰ï¼Œå¯èƒ½å…¶ä»–çº¿ç¨‹å·²ç»åˆå§‹åŒ–äº†ï¼Œæ‰€ä»¥è¦ä¸¤æ¬¡åˆ¤ç©º é—®æœ‰æ²¡æœ‰å…¶ä»–çš„ï¼Œå›ç­”åŸå­å˜é‡åº”è¯¥ä¹Ÿè¡Œï¼Œä¸æ˜¯å¾ˆäº†è§£ã€‚ äº†è§£å‹ç¼©ç®—æ³•å— ä¸çŸ¥é“ä¸ºå•¥é—®è¿™ä¸ªé—®é¢˜ï¼Œé¢è¯•å®˜æ¥ç€é—®æ˜¯å¦äº†è§£å“ˆå¤«æ›¼ï¼Œç„¶åè®©è®²ä¸€ä¸‹è‡ªå·±äº†è§£çš„å‹ç¼©ç®—æ³•ã€‚å›ç­”äº†ç§‘ç ”åšçš„å›¾åƒå‹ç¼©ã€‚\né¡¹ç›® é¡¹ç›®ç»“æ„ ç•¥\nè´Ÿè½½å‡è¡¡æ€ä¹ˆåšçš„ é€šè¿‡roundRobinæ–¹å¼å®ç°ï¼Œè¿”å›ä¸€ä¸ªè¿æ¥æ•°é‡å°‘çš„æœåŠ¡å™¨ï¼›æ¥ç€é—®é“æœ‰è€ƒè™‘å»¶è¿Ÿå—ï¼Œå›ç­”æ²¡æœ‰ï¼Œå› ä¸ºæ˜¯åœ¨å•ä¸ªæœºå™¨æµ‹è¯•çš„ã€‚\nå•ä¾‹æ¨¡æ¿åŸºç±»æ˜¯ä»€ä¹ˆ é€šè¿‡æ¨¡æ¿ç±»æ˜¯å®ç°ä¸€ä¸ªå•ä¾‹åŸºç±»ï¼Œå­ç±»é€šè¿‡CRTPçš„æ–¹å¼å®ç°å•ä¾‹ã€‚\nQté”®ç›˜é¼ æ ‡äº‹ä»¶ é”®ç›˜äº‹ä»¶ï¼škeyPressEvent keyReleaseEvent é¼ æ ‡äº‹ä»¶ï¼šmousePressEvent mouseReleaseEvent mouseMoveEvent linuxç›¸å…³ dockerå¦‚ä½•å»ºç«‹ç›®å½•æ˜ å°„ å›ç­”ï¼Œåœ¨åˆ›å»ºå®¹å™¨æ—¶é€šè¿‡-væŒ‡å®šå®¿ä¸»ç›®å½•å’Œå®¹å™¨ç›®å½•çš„æ˜ å°„å…³ç³»ã€‚\ntopå¦‚ä½•æ ¹æ®å†…å­˜å ç”¨æ’åº å›ç­”ä¸çŸ¥é“ï¼Œè‡ªå·±ä½¿ç”¨çš„åŸºäºtopå°è£…çš„btopï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ§åˆ¶\n1 top -o %MEM å¦‚ä½•æŸ¥æ‰¾è¿›ç¨‹çš„å¥æŸ„ï¼Œ å›ç­”ä¸å¤ªäº†è§£ã€‚å¯ä»¥ä½¿ç”¨pså‘½ä»¤æŸ¥è¯¢è¿›ç¨‹çŠ¶æ€ã€‚ æŸ¥è¯¢å¤§æ¨¡å‹å¾—åˆ°ï¼š è¿›ç¨‹å¥æŸ„ï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®ƒä¸»è¦ç”¨äºæ“ä½œç³»ç»Ÿå†…æ ¸å’Œå…¶ä»–ç³»ç»Ÿç»„ä»¶ä¹‹é—´è¿›è¡Œè¿›ç¨‹ç®¡ç†å’Œé€šä¿¡ã€‚ä»¥ä¸‹æ˜¯å…³äºè¿›ç¨‹å¥æŸ„çš„ä¸€äº›å…³é”®ç‚¹ï¼š\n1 ls -l /proc/\u0026lt;pid\u0026gt;/fd æŸ¥çœ‹è¿›ç¨‹ç«¯å£å ç”¨ 1 netstat -anp æŸ¥çœ‹è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„ å›ç­”ä¸çŸ¥é“ï¼ŒæŸ¥è¯¢å¤§æ¨¡å‹å¾—åˆ°ï¼š\n1 lsof -p \u0026lt;pid\u0026gt; git å›ç­”ç¨€ç¢ï¼Œåªä¼šä½¿ç”¨push, pull\ngit rebase git rebaseå¯ä»¥å°†ä¸€ä¸ªåˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œå¯ä»¥ç”¨æ¥\næ›´æ–°åˆ†æ”¯ï¼š å°†å½“å‰åˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°æœ€æ–°çš„ä¸»åˆ†æ”¯ï¼ˆå¦‚ main æˆ– masterï¼‰ä¸Šï¼Œä»¥ä¿æŒä»£ç çš„æœ€æ–°çŠ¶æ€ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ä¸Šå·¥ä½œï¼Œè€Œä¸»åˆ†æ”¯ä¸Šæœ‰æ–°çš„æäº¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ rebase å°†åŠŸèƒ½åˆ†æ”¯çš„æ›´æ”¹åº”ç”¨åˆ°æœ€æ–°çš„ä¸»åˆ†æ”¯ä¸Šã€‚ çº¿æ€§åŒ–æäº¤å†å²ï¼š rebase å¯ä»¥ä½¿æäº¤å†å²æ›´åŠ çº¿æ€§ï¼Œé¿å…åˆå¹¶æäº¤ï¼ˆmerge commitï¼‰çš„å‡ºç°ï¼Œä»è€Œä½¿æäº¤å†å²æ›´æ¸…æ™°ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ ä» main åˆ†æ”¯æ´¾ç”Ÿäº†ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼Œå¹¶ä¸” main åˆ†æ”¯ä¸Šæœ‰æ–°çš„æäº¤ï¼Œrebase å¯ä»¥å°†ä½ çš„åŠŸèƒ½åˆ†æ”¯çš„æäº¤é‡æ–°åº”ç”¨åˆ° main åˆ†æ”¯çš„æœ€æ–°æäº¤ä¹‹ä¸Šã€‚ è§£å†³å†²çªï¼š åœ¨ rebase è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å†²çªï¼ŒGit ä¼šæš‚åœå¹¶æç¤ºä½ è§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œä½ å¯ä»¥ç»§ç»­ rebase è¿‡ç¨‹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åŠŸèƒ½åˆ†æ”¯å’Œ main åˆ†æ”¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸Šè¿›è¡Œäº†ä¿®æ”¹ï¼Œrebase ä¼šæç¤ºä½ è§£å†³è¿™äº›å†²çªã€‚ git å¦‚ä½•åˆ›å»ºåˆ†æ”¯ å›ç­”ä½¿ç”¨checkout å…·ä½“æ˜¯ï¼š\n1 git checkout -b \u0026lt;branch_name\u0026gt; ","permalink":"http://localhost:14745/posts/%E9%87%91%E5%B1%B1%E4%BA%8C%E9%9D%A2/","summary":"12/05/2024 é‡‘å±±wpsC++äºŒé¢","title":"é‡‘å±±äºŒé¢"},{"content":"è‡ªæˆ‘ä»‹ç»ï¼šç•¥ ç»å¸¸ä½¿ç”¨çš„å®¹å™¨ map k,vå¯ä»¥å­˜å‚¨æ“ä½œidå’Œå‡½æ•°ï¼Œä½œä¸ºå›è°ƒã€‚\nsort()ä½¿ç”¨äº†å“ªç§æ’åºç®—æ³• sort() åº•éƒ¨ä½¿ç”¨äº†å¤šç§æ’åºç®—æ³•ï¼š å¿«æ’ï¼Œå †æ’\nå½“æ•°æ®é‡å¤§ï¼Œåˆ†å¸ƒéšæœºæ—¶ï¼Œä½¿ç”¨å¿«é€Ÿæ’åº æ•°æ®é‡å°ï¼Œä½¿ç”¨æ’å…¥æ’åº é€’å½’æ·±åº¦è¿‡æ·±æ—¶ä½¿ç”¨å †æ’åº æ’åºç®—æ³•çš„ä½¿ç”¨åœºæ™¯ å¿«æ’ï¼šæ— åºæ•°ç»„æ•ˆç‡ä¼šå¾ˆé«˜ï¼Œä½†æ˜¯æœ‰åºæ•°ç»„æ•ˆç‡ä¼šå¾ˆä½ï¼Œæ‰€ä»¥å¿«é€Ÿæ’åºåªé€‚ç”¨äºæ— åºæ•°ç»„ã€‚ å½’å¹¶æ’åºï¼šå†…å­˜æœ‰é™çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¤šè·¯å½’å¹¶ æ’å…¥æ’åºï¼š åŸºæœ¬æœ‰åºçš„æ•°æ®ï¼Œé€‚åˆç”¨æ’å…¥æ’åºã€‚ æ™ºèƒ½æŒ‡é’ˆ weak_ptrå¯ä»¥æå‡ä¸ºshared_ptrå—ï¼Ÿ å¯ä»¥ã€‚\nshared_ptr: ä¼šä½¿ç”¨è®¡æ•°å™¨æ¥è®°å½•å¼•ç”¨æ¬¡æ•°ï¼Œå½“å¼•ç”¨æ¬¡æ•°ä¸º0æ—¶ï¼Œé‡Šæ”¾å¯¹è±¡ã€‚ weak_ptrï¼šweak_ptrå®ç°å¼±å¼•ç”¨ï¼Œå¯ä»¥é€šè¿‡.lock() æå‡ä¸º shared_ptr ä½¿ç”¨ä¸€æ®µä»£ç ä½“ç°C++é¢å‘å¯¹è±¡çš„æ€æƒ³ é¦–å…ˆï¼ŒC++é¢å‘å¯¹è±¡çš„ç‰¹æ€§æœ‰ä¸‰ä¸ª\nå°è£… ç»§æ‰¿ å¤šæ€ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class Base{ public: Base() { std::cout \u0026lt;\u0026lt; \u0026#34;Base constructoer\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual void getObjName() { std::cout \u0026lt;\u0026lt; \u0026#34;This is a Base object\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual ~Base() { std::cout \u0026lt;\u0026lt; \u0026#34;Base destructor\u0026#34; \u0026lt;\u0026lt; std::endl; } }; class Derived:public Base{ public: Derived() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived constructoer\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual void getObjName() override { std::cout \u0026lt;\u0026lt; \u0026#34;This is a Derived object\u0026#34; \u0026lt;\u0026lt; std::endl; } virtual ~Derived() { std::cout \u0026lt;\u0026lt; \u0026#34;Derived destructor\u0026#34; \u0026lt;\u0026lt; std::endl; } }; int main() { Base *p = new Derived(); p-\u0026gt;getObjName(); delete p; } è¿™æ®µä»£ç ä¼šè¾“å‡º:\n1 2 3 4 5 Base constructoer Derived constructoer This is a Derived object Derived destructor Base destructor é¢è¯•å®˜æ¥ç€é—®äº†ä¸¤ä¸ªç±»çš„å¤§å°ï¼Œ å›ç­”æ²¡æœ‰è€ƒè™‘ç»§æ‰¿æ—¶çš„è™šå‡½æ•°æŒ‡é’ˆï¼Œæ‰€ä»¥å›ç­”çš„ä¸¤ä¸ªéƒ½æ˜¯1ã€‚ å®é™…ä¸Šå› ä¸ºå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œå¯¹äºä¸ªä¸€ä¸ª64ä½çš„æœºå™¨ï¼ŒæŒ‡é’ˆçš„å¤§å°æ˜¯8å­—èŠ‚ï¼Œæ‰€ä»¥ä¸¤ä¸ªç±»çš„å¤§å°éƒ½æ˜¯8å­—èŠ‚ã€‚\n1 std::cout \u0026lt;\u0026lt; sizeof(Base) \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; sizeof(Derived) \u0026lt;\u0026lt; std::endl; è¾“å‡º\n1 8 8 å®ç°å­—ç¬¦ä¸²æ•°å­—ç›¸åŠ ï¼Œç›¸å‡ å½“æ—¶å®ç°æ—¶è€ƒè™‘çš„åœºæ™¯å¤ªå¤šäº†ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°ã€‚ è€Œä¸”è¦æ³¨æ„ï¼Œåšç›¸åŠ æˆ–ç›¸å‡æ—¶ï¼Œè¦å°†å­—ç¬¦è½¬ä¸ºæ•´æ•°ã€‚ æ‰€ä»¥å…·ä½“å®ç°æ—¶ï¼Œè¦è€ƒè™‘\nå®ç°åŸºç¡€çš„ æ­£æ•°ç›¸åŠ  å¤§æ•°å‡å°æ•° ç‰¹æ®Šæƒ…å†µï¼Œç‰¹æ®Šåˆ¤å®š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // 1. é¦–å…ˆè¦å°†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€0 å»æ‰ std::string trimLeadingZeors(const std::string \u0026amp;str) { size_t nonZeroIdx = str.find_first_not_of(\u0026#39;0\u0026#39;); if(nonZeroIdx == std::string::npos) return \u0026#39;0\u0026#39;; // æ­¤æ—¶å…¨éƒ¨æ˜¯0 return str.substr(nonZeroIdx); } // 2. æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ•°å­—ç»å¯¹å€¼çš„å¤§å° bool isAbsGreaterOrEqual(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string aTrimmed = trimLeadingZeors(a); std::string bTrimmed = trimLeadingZeors(b); if(aTrimmed.size() != bTrimmed.size()) return aTrimmed.size() \u0026gt; bTrimmed.size(); return aTrimmed \u0026gt; bTrimmed; } // 3. ä¸¤ä¸ªæ•´æ•°å­—ç¬¦ä¸²åŠ æ³• std::string addStrings(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string result; int carry = 0, sum=0; int i = a.size()-1, j = b.size()-1; while(i\u0026gt;=0 || j\u0026gt;=0 || carry) { int digitA = (i\u0026gt;=0)?a[i--]-\u0026#39;0\u0026#39;:0; int digitB = (j\u0026gt;=0)?b[i--]-\u0026#39;0\u0026#39;:0; sum = digitA + digitB + carry; carry = sum / 10; result.push_back(sum % 10 + \u0026#39;0\u0026#39;); } std::reverse(result.begin(), result.end()); return result; } // 4. å­—ç¬¦ä¸²å‡æ³•ï¼Œ a\u0026gt;=b std::string subStrings(const std::string \u0026amp;a, const std::string \u0026amp;b) { std::string result; int borrow = 0, diff=0; int i = a.size()-1, j = b.size()-1; while(i\u0026gt;=0 || j\u0026gt;=0) { int digitA = (i\u0026gt;=0)?a[i--]-\u0026#39;0\u0026#39;:0; int digitB = (j\u0026gt;=0)?b[i--]-\u0026#39;0\u0026#39;:0; diff = digitA - digitB - borrow; if(diff \u0026lt; 0) { diff += 10; borrow = 1; }else { borrow = 0; } result.push_back(diff + \u0026#39;0\u0026#39;); } std::reverse(result.begin(), result.end()); return result; } // 5. å®ç° ä»»æ„ç±»å‹çš„åŠ å‡ std::string add(const std::string \u0026amp;num1, const std::string \u0026amp;num2) { bool isNum1Negative = (num1[0] == \u0026#39;-\u0026#39;); bool isNum2Negative = (num2[0] == \u0026#39;-\u0026#39;); std::string absNum1 = isNum1Negative ? num1.substr(1) : num1; std::string absNum2 = isNum2Negative ? num2.substr(1) : num2; if (!isNum1Negative \u0026amp;\u0026amp; !isNum2Negative) { // éƒ½æ˜¯æ­£æ•° return addStrings(absNum1, absNum2); } else if (isNum1Negative \u0026amp;\u0026amp; isNum2Negative) { // éƒ½æ˜¯è´Ÿæ•° return \u0026#34;-\u0026#34; + addStrings(absNum1, absNum2); } else if (isNum1Negative) { // num1è´Ÿï¼Œnum2æ­£ if (isAbsGreaterOrEqual(absNum1, absNum2)) { return \u0026#34;-\u0026#34; + subtractStrings(absNum1, absNum2); } else { return subtractStrings(absNum2, absNum1); } } else { // num1æ­£ï¼Œnum2è´Ÿ if (isAbsGreaterOrEqual(absNum2, absNum1)) { return \u0026#34;-\u0026#34; + subtractStrings(absNum2, absNum1); } else { return subtractStrings(absNum1, absNum2); } } } // å­—ç¬¦ä¸²ç›¸å‡ ä»»æ„ std::string subtract(const std::string \u0026amp;num1, const std::string \u0026amp;num2) { std::string negatedNum2 = (num2[0] == \u0026#39;-\u0026#39;) ? num2.substr(1) : \u0026#34;-\u0026#34; + num2; return add(num1, negatedNum2); } æœ€å å€’éœ‰å€’éœ‰å€’éœ‰ã€‚é¢è¯•æœŸé—´ï¼Œå¿«æ‰‹ç”µè¯æ²¡æ¥åˆ°ï¼Œåº”è¯¥æ˜¯çº¦é¢çš„ã€‚ç»“æŸä¹‹åå»å®˜ç½‘çœ‹å·²ç»æŒ‚äº†ã€‚æ­¤å‰å¿«æ‰‹ä¸‰é¢å› ä¸ºé¢è¯•å®˜çš„é—®é¢˜æœ‰ä¸€ä¸ªæ˜¯ç‰¹å®šåœºæ™¯ï¼Œè·ŸC++ä¸ä¸€æ ·æ²¡æœ‰ç­”å‡ºæ¥ã€‚è®²è§£é¡¹ç›®é¢è¯•å®˜è¯´ä»–æ²¡å¬æ‡‚ğŸ˜…ã€‚\n","permalink":"http://localhost:14745/posts/%E9%87%91%E5%B1%B1%E4%B8%80%E9%9D%A2/","summary":"12/03/2024 é‡‘å±±wpsC++ä¸€é¢","title":"é‡‘å±±ä¸€é¢"},{"content":"åŸé¢˜\nleetcode 3274 æ£€æŸ¥æ£‹ç›˜æ–¹æ ¼é¢œè‰²æ˜¯å¦ç›¸åŒ æ–¹æ³•1 å› ä¸ºåŸé¢˜ç»™å‡ºäº†æ£‹ç›˜çš„æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘çš„æƒ³æ³•æ˜¯åˆå§‹åŒ–æ£‹ç›˜ï¼Œç„¶åæ ¹æ®ä¸¤ä¸ªåæ ‡è®¿é—®å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class Solution { private: const string s1 = \u0026#34;01010101\u0026#34;; const string s2 = \u0026#34;10101010\u0026#34;; vector\u0026lt;string\u0026gt; grid; void init() { grid.resize(8, string(8, \u0026#39;0\u0026#39;)); for (int i = 0; i \u0026lt; 8; i++) { grid[i] = i % 2 ? s1 : s2; } } public: bool checkTwoChessboards(string coordinate1, string coordinate2) { init(); return grid[coordinate1[0] - \u0026#39;a\u0026#39;][coordinate1[1] - \u0026#39;0\u0026#39; - 1] == grid[coordinate2[0] - \u0026#39;a\u0026#39;][coordinate2[1] - \u0026#39;0\u0026#39; - 1]; } }; æ—¶é—´å¤æ‚åº¦ ä½¿ç”¨äº†å¸¸æ•°æ—¶é—´åˆå§‹åŒ–æ£‹ç›˜ï¼Œå¯ä»¥è§†ä½œO(1) ç©ºé—´å¤æ‚åº¦ ä½¿ç”¨äº†å¸¸æ•°é‡çš„ç©ºé—´å­˜å‚¨æ£‹ç›˜ï¼Œå¯ä»¥è§†ä½œ O(1) æ–¹æ³•2 æ–¹æ³•2 å°±å¾ˆå–å·§äº†ã€‚æ£‹ç›˜çš„æ¨ªåæ ‡æ˜¯a~h asciiå³ä¸º97~104ï¼Œçºµåæ ‡ä¸º1~8ã€‚ ä¸¾å‡ ä¸ªä¾‹å­ï¼š\n(a,1)ä¸ºé»‘è‰²ï¼Œ(a,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (b,1)ä¸ºç™½è‰²ï¼Œ(b,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (c,1)ä¸ºé»‘è‰²ï¼Œ(c,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (d,1)ä¸ºç™½è‰²ï¼Œ(d,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; æŠŠæ¨ªåæ ‡ä½¿ç”¨asciiä»£æ›¿å (97,1)ä¸ºé»‘è‰²ï¼Œ(97,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (98,1)ä¸ºç™½è‰²ï¼Œ(98,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (99,1)ä¸ºé»‘è‰²ï¼Œ(99,2)ä¸ºç™½è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; (100,1)ä¸ºç™½è‰²ï¼Œ(100,2)ä¸ºé»‘è‰²ï¼Œåè¾¹äº¤æ›¿\u0026hellip;\u0026hellip; æ€»ç»“è§„å¾‹ï¼š å¦‚æœæ¨ªçºµåæ ‡å¥‡å¶æ€§ä¸€è‡´ï¼Œä¸ºé»‘è‰²ï¼Œå¦åˆ™ä¸ºç™½è‰² 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 class Solution { bool same(int a, int b) { if (a % 2 \u0026amp;\u0026amp; b % 2) return true; else if (a % 2 == 0 \u0026amp;\u0026amp; b % 2 == 0) return true; return false; } public: bool checkTwoChessboards(string s, string t) { int s0 = toascii(s[0]); int s1 = s[1] - \u0026#39;0\u0026#39;; int t0 = toascii(t[0]); int t1 = t[1] - \u0026#39;0\u0026#39;; if (same(s0, s1) \u0026amp;\u0026amp; same(t0, t1) || !same(s0, s1) \u0026amp;\u0026amp; !same(t0, t1)) return true; return false; } }; æ—¶é—´å¤æ‚åº¦ O(1) ç©ºé—´å¤æ‚åº¦ O(1) ","permalink":"http://localhost:14745/posts/leetcode-3274-12-03-2024/","summary":"leetcode 3274 ç®€å•é¢˜ï¼Œä½†æ˜¯åŸç†ä¸ç®€å•","title":"Leetcode 3274 12/03/2024"},{"content":"std::async 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 #include \u0026lt;chrono\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;thread\u0026gt; // async è·å–å¼‚æ­¥è¿”å›å€¼ std::string fetchDataFromDB(std::string query) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is fetching data from DB...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); return \u0026#34;Data: \u0026#34; + query; } void use_async() { // å¼‚æ­¥è·å–æ•°æ® std::future\u0026lt;std::string\u0026gt; fetchedData = std::async(std::launch::async, fetchDataFromDB, \u0026#34;query\u0026#34;); // ä¸»çº¿ç¨‹æ­£å¸¸è¿›è¡Œ for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } // get() æ˜¯é˜»å¡çš„ï¼Œ åªæœ‰æ•°æ®è¿”å›åæ‰ä¼šç»§ç»­æ‰§è¡Œ std::string data = fetchedData.get(); std::cout \u0026lt;\u0026lt; data \u0026lt;\u0026lt; std::endl; } int main() { use_async(); return 0; } async çš„å¯åŠ¨æ¨¡å¼ std::launch::async ç«‹å³æ‰§è¡Œ std::launch::defer è°ƒç”¨std::future::getæ—¶æ‰ä¼šæ‰§è¡Œ std::launch::deferred|std::launch::async ä¸åŒçš„ç¯å¢ƒæ‰§è¡Œç»“æœä¸åŒ std::future std::future::get è°ƒç”¨æ—¶ä¼šé˜»å¡ï¼Œè°ƒç”¨åstd::futureå°±ä¼šå¤±æ•ˆ std::future::wait é˜»å¡è°ƒç”¨ï¼Œå¦‚æœä»»åŠ¡å®Œæˆå°±ä¼šè¿”å›ï¼Œæ²¡æœ‰åˆ™ç»§ç»­ç­‰å¾…ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä½†æ˜¯ä¸€æ—¦è°ƒç”¨äº†std::future::get å› ä¸ºå¯¹è±¡std::futureçš„å¤±æ•ˆï¼Œå°±ä¼šå¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 std::string fetchDataFromDB(std::string query) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is fetching data from DB...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); return \u0026#34;Data: \u0026#34; + query; } void use_async_future_wait() { // å¼‚æ­¥è·å–æ•°æ® std::future\u0026lt;std::string\u0026gt; fetchedData = std::async(std::launch::async, fetchDataFromDB, \u0026#34;query\u0026#34;); // ä¸»çº¿ç¨‹æ­£å¸¸è¿›è¡Œ for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } // get() æ˜¯é˜»å¡çš„ï¼Œ åªæœ‰æ•°æ®è¿”å›åæ‰ä¼šç»§ç»­æ‰§è¡Œ std::cout \u0026lt;\u0026lt; \u0026#34;first call `fetchedData.get()` \u0026#34; \u0026lt;\u0026lt; std::endl; fetchedData.wait(); // std::string data = fetchedData.get(); // std::cout \u0026lt;\u0026lt; data \u0026lt;\u0026lt; std::endl; for (int i = 10; i \u0026lt; 20; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } std::cout \u0026lt;\u0026lt; \u0026#34;call `future::wait()` again \u0026#34; \u0026lt;\u0026lt; std::endl; fetchedData.wait(); } std::packaged_task std::packaged_taskå¯ä»¥å°†å¼‚æ­¥ä»»åŠ¡åŒ…è£…æˆstd::futureï¼Œè¿è¡Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸Šï¼Œå¯ä»¥æ•è·ä»»åŠ¡çš„è¿”å›å€¼æˆ–å¼‚å¸¸ ä½¿ç”¨ï¼š\nåˆ›å»ºä¸€ä¸ªstd::packaged_task å¯¹è±¡ï¼ŒåŒ…è£…ä¸€ä¸ªä»»åŠ¡ è°ƒç”¨std::packaged_task::get_future è·å–ä¸€ä¸ªstd::futureå¯¹è±¡ åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸Šè°ƒç”¨std::packaged_taskçš„operator()æ‰§è¡Œä»»åŠ¡ è°ƒç”¨std::future::getè·å–è¿”å›å€¼æˆ–å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 int my_task() { std::this_thread::sleep_for(std::chrono::seconds(4)); std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is running task...\u0026#34; \u0026lt;\u0026lt; std::endl; return 42; } void use_packaged_task() { std::packaged_task\u0026lt;int()\u0026gt; task(my_task); for (int i = 0; i \u0026lt; 10; i++) { std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else x\u0026#34; \u0026lt;\u0026lt; i + 1 \u0026lt;\u0026lt; \u0026#34; time(s).\u0026#34; \u0026lt;\u0026lt; std::endl; } std::cout \u0026lt;\u0026lt; \u0026#34;Call `task.get_future()`\u0026#34; \u0026lt;\u0026lt; std::endl; auto res = task.get_future(); std::cout \u0026lt;\u0026lt; \u0026#34;Get result from `my_task()`\u0026#34; \u0026lt;\u0026lt; std::endl; // éœ€è¦å¼€è¾Ÿä¸€ä¸ªå­çº¿ç¨‹å¤„ç†`std::packaged_task` å¿…é¡»ä½¿ç”¨`std::move` std::packaged_taskåªæ”¯æŒç§»åŠ¨è¯­ä¹‰ std::thread t(std::move(task)); t.detach(); std::cout \u0026lt;\u0026lt; res.get(); } std::promise std::promiseä¹Ÿå¯ä»¥åœ¨çº¿ç¨‹ä¸­è·å–å¼‚æ­¥è¿”å›å€¼ï¼Œä¿å­˜åœ¨std::futureä¸­ï¼Œåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è·å–è¿™ä¸ªå€¼æˆ–å¼‚å¸¸ã€‚\nä¸std::packaged_taskä¸åŒçš„æ˜¯ï¼Œstd::packaged_taskç»‘å®šçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ç­‰å¾…å‡½æ•°æ‰§è¡Œå®Œæ‰èƒ½æ‹¿åˆ°ç»“æœï¼Œ\nè€Œstd::promise å¯ä»¥åœ¨å‡½æ•°ä¸­çš„ä»»æ„ä¸€æ­¥å®šä¹‰ï¼Œæ‹¿åˆ°å€¼ä¹‹åå¯ä»¥ç›´æ¥åœ¨å…¶ä»–çº¿ç¨‹ä¸­å¾—åˆ°å€¼ã€‚\nstd::promiseä¹Ÿæ˜¯åªæ”¯æŒç§»åŠ¨æ“ä½œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 void set_value(std::promise\u0026lt;int\u0026gt; prom) { std::cout \u0026lt;\u0026lt; \u0026#34;Subthread suspended is setting value...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(4)); prom.set_value(42); std::cout \u0026lt;\u0026lt; \u0026#34;promise has set value to 42\u0026#34; \u0026lt;\u0026lt; std::endl; } void use_promise() { std::promise\u0026lt;int\u0026gt; prom; std::future\u0026lt;int\u0026gt; fut = prom.get_future(); std::thread t(set_value, std::move(prom)); // å¼€è¾Ÿçš„å­çº¿ç¨‹ä¼šè¿è¡Œï¼Œä½†åªæœ‰é€šè¿‡`std::future`å¯¹è±¡æ‰èƒ½è·å–åˆ°`std::promise`ä¸­çš„å€¼ std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else...\u0026#34; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;Waiting for subthread to set value \u0026#34;\u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;get value for subthread: \u0026#34; \u0026lt;\u0026lt; fut.get() \u0026lt;\u0026lt; std::endl; t.join(); } // ä½¿ç”¨promise æ•è·å¼‚å¸¸ void promise_one_exception(std::promise\u0026lt;void\u0026gt; promise) { try { throw std::runtime_error(\u0026#34;Oops, Error\u0026#34;); } catch (...) { promise.set_exception(std::current_exception()); } } void use_promise_exception() { std::promise\u0026lt;void\u0026gt; promise; std::future\u0026lt;void\u0026gt; future = promise.get_future(); std::thread t(promise_one_exception, std::move(promise)); std::cout \u0026lt;\u0026lt; \u0026#34;Main thread is doing something else...\u0026#34; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;Waiting for subthread to set value \u0026#34; \u0026lt;\u0026lt; std::endl; future.wait(); try { future.get(); } catch (std::exception \u0026amp;e) { std::cout \u0026lt;\u0026lt; \u0026#34;Caught exception: \u0026#34; \u0026lt;\u0026lt; e.what() \u0026lt;\u0026lt; std::endl; } t.join(); } // æ­é…std::shared_future void function(std::promise\u0026lt;int\u0026gt; \u0026amp;\u0026amp;prom) { std::this_thread::sleep_for(std::chrono::seconds(10)); prom.set_value(10); } void threadfunction(std::shared_future\u0026lt;int\u0026gt; future) { try { int result = future.get(); std::cout \u0026lt;\u0026lt; \u0026#34;Result: \u0026#34; \u0026lt;\u0026lt; result \u0026lt;\u0026lt; std::endl; } catch (std::future_error \u0026amp;e) { std::cout \u0026lt;\u0026lt; \u0026#34;future error: \u0026#34; \u0026lt;\u0026lt; e.what() \u0026lt;\u0026lt; std::endl; } } void use_shared_future() { std::promise\u0026lt;int\u0026gt; prom; std::shared_future\u0026lt;int\u0026gt; future = prom.get_future(); std::thread t1(function, std::move(prom)); std::thread t2(threadfunction, future); // ä¸å¯ä»¥é€šè¿‡ std::move(future)çš„æ–¹å¼ä¼ é€’ std::thread t3(threadfunction, future); t1.join(), t2.join(), t3.join(); } last but not least C++çº¿ç¨‹æ± çš„ä¸€ç§å®ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 #include \u0026lt;condition_variable\u0026gt; #include \u0026lt;cstddef\u0026gt; #include \u0026lt;functional\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;memory\u0026gt; #include \u0026lt;mutex\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;thread\u0026gt; #include \u0026lt;utility\u0026gt; #include \u0026lt;vector\u0026gt; class ThreadPool { using TASK = std::packaged_task\u0026lt;void()\u0026gt;; private: static std::shared_ptr\u0026lt;ThreadPool\u0026gt; _instance; std::atomic\u0026lt;int\u0026gt; _thread_count; std::atomic\u0026lt;bool\u0026gt; _stop; std::mutex _mtx; std::condition_variable _cond; std::vector\u0026lt;std::thread\u0026gt; _workers; std::queue\u0026lt;TASK\u0026gt; _tasks; private: void work_thread() { while (!this-\u0026gt;_stop.load()) { TASK task; { std::unique_lock\u0026lt;std::mutex\u0026gt; lock(this-\u0026gt;_mtx); this-\u0026gt;_cond.wait(lock, [this] { return this-\u0026gt;_stop.load() || !this-\u0026gt;_tasks.empty(); }); if (this-\u0026gt;_tasks.empty()) return; task = std::move(this-\u0026gt;_tasks.front()); this-\u0026gt;_tasks.pop(); } this-\u0026gt;_thread_count--; task(); this-\u0026gt;_thread_count++; } } void start() { for (int i = 0; i \u0026lt; _thread_count; ++i) { _workers.emplace_back(\u0026amp;ThreadPool::work_thread, this); } } void stop() { _stop.store(true); _cond.notify_all(); for (auto \u0026amp;t : _workers) { if (t.joinable()) { std::cout \u0026lt;\u0026lt; \u0026#34;Join thread with id = \u0026#34; \u0026lt;\u0026lt; t.get_id() \u0026lt;\u0026lt; std::endl; t.join(); } } } ThreadPool(size_t thread_count = 4) : _stop(false) { if (thread_count \u0026lt;= 1) _thread_count = 1; else _thread_count = thread_count; start(); } ThreadPool(const ThreadPool \u0026amp;other) = delete; ThreadPool \u0026amp;operator=(const ThreadPool \u0026amp;) = delete; public: ~ThreadPool() { stop(); } static std::shared_ptr\u0026lt;ThreadPool\u0026gt; GetInstance() { std::once_flag s_flag; std::call_once(s_flag, [\u0026amp;]() { if (_instance == nullptr) _instance = std::shared_ptr\u0026lt;ThreadPool\u0026gt;(new ThreadPool(4)); }); return _instance; } template \u0026lt;class F, class... Args\u0026gt; auto commit(F \u0026amp;\u0026amp;f, Args \u0026amp;\u0026amp;...args) -\u0026gt; std::future\u0026lt;decltype(f(args...))\u0026gt; { using RETURN_TYPE = decltype(f(args...)); if (_stop.load()) return std::future\u0026lt;RETURN_TYPE\u0026gt;{}; auto task = std::make_shared\u0026lt;std::packaged_task\u0026lt;RETURN_TYPE()\u0026gt;\u0026gt;( std::bind(std::forward\u0026lt;F\u0026gt;(f), std::forward\u0026lt;Args\u0026gt;(args)...)); std::future\u0026lt;RETURN_TYPE\u0026gt; res = task-\u0026gt;get_future(); { std::unique_lock\u0026lt;std::mutex\u0026gt; lck(_mtx); _tasks.emplace([task]() { (*task)(); }); } _cond.notify_one(); return res; } auto available_threads() const { return _thread_count.load(); } }; std::shared_ptr\u0026lt;ThreadPool\u0026gt; ThreadPool::_instance = nullptr; int main() { auto res = ThreadPool::GetInstance()-\u0026gt;commit( [](int a, int b) { return a + b; }, 10, 20); std::cout \u0026lt;\u0026lt; res.get() \u0026lt;\u0026lt; std::endl; }; æ³¨æ„,åœ¨GetInstance()ä¸­ï¼Œåªèƒ½ä½¿ç”¨std::shared_ptr\u0026lt;ThreadPool\u0026gt;(new ThreadPool);çš„æ–¹å¼æ„é€  å› ä¸ºmake_sharedæ— æ³•è®¿é—®ç§æœ‰æ„é€ å‡½æ•°ã€‚\n","permalink":"http://localhost:14745/posts/future-async-promise/","summary":"C++ä¸­std::future, std::packaged_task, std::promiseçš„ä½¿ç”¨","title":"Future Async Promise"},{"content":"å¤šçº¿ç¨‹ å¤šçº¿ç¨‹äº«æœ‰ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œçº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢è¦ç®€å•ï¼Œè€Œä¸”çº¿ç¨‹é€šä¿¡ä¹Ÿæ¯”è¿›ç¨‹é€šä¿¡è¦ç®€å•ã€‚\nC++ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥é€šè¿‡std::threadç±»å®ç°ã€‚std::threadä½äºå¤´æ–‡ä»¶\u0026lt;thread\u0026gt;ä¸­ã€‚ å…·ä½“å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ä¸€ä¸ªçº¿ç¨‹\nç»‘å®šæ™®é€šå‡½æ•° ç»‘å®šlambdaè¡¨è¾¾å¼ ç»‘å®šå‡½æ•°å¯¹è±¡ å‡½æ•°æŒ‡é’ˆ ä»¿å‡½æ•° std::bind åˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹åï¼Œçº¿ç¨‹å°±ä¼šå¼€å§‹æ‰§è¡Œï¼Œä½†æ˜¯çº¿ç¨‹å¯èƒ½ä¼šåœ¨ä¸»çº¿ç¨‹ç»“æŸä¹‹åè¿˜éœ€è¦è¿è¡Œï¼Œå› æ­¤éœ€è¦ä½¿ç”¨std::thread::joinæ–¹æ³•æ¥ç­‰å¾…çº¿ç¨‹ç»“æŸã€‚\nä¹Ÿå¯ä»¥é€šè¿‡std::thread::detachåœ¨ä¸»çº¿ç¨‹åå°è¿è¡Œï¼Œä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œç»“æŸã€‚ ç»‘å®šæ™®é€šå‡½æ•° 1 2 3 4 5 6 7 8 9 void print() { std::cout \u0026lt;\u0026lt; \u0026#34;Hello, World!\u0026#34; \u0026lt;\u0026lt; std::endl; } void bindaThread() { std::thread t1(print); t1.join(); } ç»‘å®šç±»æˆå‘˜å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 class Foo { public: void print(){ std::cout \u0026lt;\u0026lt; \u0026#34;This is a class member function\u0026#34; \u0026lt;\u0026lt; std::endl; } } void bindClassMember() { Foo foo; std::thread t(\u0026amp;Foo::print, \u0026amp;foo); t.join(); } ç»‘å®šlambda 1 2 3 4 5 6 void bindLambda() { std::thread t([](){ std::cout \u0026lt;\u0026lt; \u0026#34;Bind a lambda function\u0026#34; \u0026lt;\u0026lt; std::endl; }) } ç»‘å®šä»¿å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 struct ClassLikeFunc { void operator()() { std::cout \u0026lt;\u0026lt; \u0026#34;Bind a class like function\u0026#34; \u0026lt;\u0026lt; std::endl; } } void bindClassLikeFunc() { std::thread t{ClassLikeFunc()}; t.join(); } å¦‚éœ€è¦ä¼ å‚ï¼Œåˆå§‹åŒ–æ—¶std::thread t(func,params)å³å¯ã€‚\næ³¨æ„ std::threadä¸æ”¯æŒæ‹·è´æ„é€ ï¼Œåªèƒ½é€šè¿‡ç§»åŠ¨æ„é€ ã€‚ å› æ­¤ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å¯ä»¥é€šè¿‡std::move()çš„æ–¹å¼å°†æ‰€æœ‰æƒè½¬ç§»ç»™å…¶ä»–çº¿ç¨‹ std::threadé»˜è®¤ä¼ å‚æ˜¯ä»¥æ‹·è´çš„æ–¹å¼ï¼Œå¦‚æœè¦ä¼ å…¥å¼•ç”¨ï¼Œéœ€è¦é€šè¿‡std::ref() ","permalink":"http://localhost:14745/posts/cpp-thread-basic/","summary":"C++å¤šçº¿ç¨‹çš„åŸºç¡€æ¦‚å¿µ","title":"Cpp Thread Basic"},{"content":"leetcode 743 åŸé¢˜\nåˆ†æ é¢˜ç›®è¦æ±‚è®¡ç®—ä»èµ·å§‹èŠ‚ç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯åˆ°æœ€è¿œè·ç¦»çš„æœ€å°æ—¶é—´ã€‚ ä½¿ç”¨dijkstraç®—æ³•å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 class Solution { public: int networkDelayTime(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; times, int n, int k) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; g(n, vector\u0026lt;int\u0026gt;(n, INT_MAX / 2));// å®šä¹‰å›¾ï¼Œ g[i][j] for (auto\u0026amp; t : times) { g[t[0] - 1][t[1] - 1] = t[2]; } vector\u0026lt;int\u0026gt; dis(n, INT_MAX / 2), done(n); // dis[i] è¡¨ç¤ºk-\u0026gt; içš„æœ€çŸ­è·¯ dis[k - 1] = 0; // èµ·å§‹èŠ‚ç‚¹ä¸ºk èµ·å§‹è·ç¦»ä¸º0 while (true) { int x = -1; for (int i = 0; i \u0026lt; n; i++) { // éå†dis å¯»æ‰¾è·ç¦»æœ€çŸ­çš„ç‚¹ if (!done[i] \u0026amp;\u0026amp; (x \u0026lt; 0 || dis[i] \u0026lt; dis[x])) { x = i; } } // å¦‚æœ æ²¡æœ‰æ‰¾åˆ°æœªå¤„ç†çš„ç‚¹ï¼Œç›´æ¥è¿”å› if (x \u0026lt; 0) return ranges::max(dis); // å¦‚æœæ‰¾åˆ°çš„è·ç¦»æœ€å°çš„ç‚¹çš„è·ç¦»è¿˜æ˜¯inf è¿”å›-1ï¼Œè¡¨ç¤ºä¸å¯è¾¾ if (dis[x] == INT_MAX / 2) return -1; done[x] = true; // æ›´æ–°è¯¥èŠ‚ç‚¹ä¸ºè®¿é—®è¿‡ for (int y = 0; y \u0026lt; n; y++) { dis[y] = min(dis[y], dis[x] + g[x][y]); // ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·å§‹èŠ‚ç‚¹ï¼Œæ›´æ–°æœ€å°è·ç¦» } } } }; æ—¶é—´å¤æ‚åº¦ åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸º$O(n^2)$ ç©ºé—´å¤æ‚åº¦ ä½¿ç”¨äº†é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ä¸º$O(n^2)$ ","permalink":"http://localhost:14745/posts/leetcode-743/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 743"},{"content":"leetcode 3238 åŸé¢˜\nåˆ†æ é¢˜ç›®å®šä¹‰ç©å®¶çš„æŸä¸ªé¢œè‰²çš„çƒçš„ä¸ªæ•°å¤§äºç©å®¶idä¸ºèƒœåˆ©ç©å®¶ï¼Œ\nå› æ­¤éœ€è¦ç»Ÿè®¡æ¯ä¸ªç©å®¶çš„å¯¹åº”é¢œè‰²çš„çƒçš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¦å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ $arr[playerId][ballColor]$ è¡¨ç¤ºç©å®¶idä¸ºplayerIdï¼Œçƒé¢œè‰²ä¸ºballColorçš„çƒæ•°é‡ã€‚ ä¸€ä¸ªç©å®¶åªèƒ½è¢«è®°å½•ä¸€æ¬¡èƒœåˆ©ç©å®¶ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ ‡è®°æ•°ç»„$tags[playerCount]$æ ‡è®°ç©å®¶æ˜¯å¦å·²ç»è¢«è®°å½•è¿‡ ä¸€æ—¦æŸä¸ªç©å®¶çš„$arr[playerId][ballColor]\u0026gt;playerId$ï¼Œèƒœåˆ©ç©å®¶ç»“æœæ•°é‡+1ï¼Œä¸”è¦å°†$tags[playerId]$æ ‡è®°ä¸ºtrueï¼Œè¡¨ç¤ºè¯¥ç©å®¶å·²ç»è¢«è®°å½•ä¸ºèƒœåˆ©ç©å®¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // 1. // const int MXN =20; // int arr[MXN][11]{0}; // bool tags[MXN]{false}; class Solution { public: int winningPlayerCount(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; pick) { // 2. vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; arr(n,vector\u0026lt;int\u0026gt;(11,0)); vector\u0026lt;bool\u0026gt; tags(n,false); int result = 0; for (auto pic : pick) { // playerId = pic[0]; // ballColor = pic[1]; // tags[playerId]æœªè¢«è®°å…¥ç»“æœæ—¶ï¼Œä¸”arr[playerId][ballColor]\u0026gt;playerId // ç»“æœ+1 å°†tags[playerId] æ ‡è®°ä¸ºtrue int playerId = pic[0]; int ballColor = pic[1]; ++arr[playerId][ballColor]; if (tags[playerId] == false \u0026amp;\u0026amp; arr[playerId][ballColor] \u0026gt; playerId) { result++; tags[playerId] = true; } } return result; } }; æ—¶é—´å¤æ‚åº¦ å¯¹äºæ¯ä¸ªpic éƒ½éœ€è¦éå†ä¸€æ¬¡ å¯¹äºä¸¤ä¸ªæ•°ç»„ï¼Œéœ€è¦å¯¹$n*max(y)$çš„æ•°ç»„åˆå§‹åŒ– å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º$O(n*max(y)+m)$ $m$ä¸ºpickçš„é•¿åº¦ï¼Œ$n$ä¸ºplayerIdçš„æ•°é‡ï¼Œ$y$ä¸ºçƒé¢œè‰²æ•°é‡ ç©ºé—´å¤æ‚åº¦ éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º$O(n*y)$\nä¸€äº›é—®é¢˜ å°šæœªææ˜ç™½ï¼Œä¸ºä»€ä¹ˆæ³¨é‡Š1çš„å®šä¹‰æ–¹å¼æœ¬åœ°å¯ä»¥é€šè¿‡leetcodeæ— æ³•é€šè¿‡ï¼Œæ³¨é‡Š2çš„å¯ä»¥\n","permalink":"http://localhost:14745/posts/leetcode-3238/","summary":"Leetcode 3238 æ¯æ—¥ä¸€é¢˜ ç®€å•é¢˜","title":"Leetcode 3238"},{"content":"åŸé¢˜\nleetcode 3233 çœŸå› æ•°ï¼šå¯¹äºä¸€ä¸ªæ•°å­—x xé™¤äº†xæœ¬èº«ä»¥å¤–çš„æ‰€æœ‰æ­£å› æ•°ä¸ºå…¶çœŸå› æ•° ç‰¹æ®Šæ•°å­—çš„å®šä¹‰ä¸ºï¼šä»…æœ‰ä¸¤ä¸ªçœŸéŸ³æ•°çš„æ•°å­—ä¸ºç‰¹æ®Šæ•°å­—ã€‚\nä»å®šä¹‰ä¸Šçœ‹ï¼Œç‰¹æ®Šæ•°å­—$z$ä¸€å®šæœ‰ä¸€ä¸ªå› æ•°ä¸º1ï¼Œé‚£ä¹ˆå…¶å¦ä¸€ä¸ªçœŸå› æ•°ä¸€å®šæ˜¯$\\sqrt{z}$ï¼Œ å¦åˆ™å°±ä¼šæœ‰åŠ ä¸Š1çš„ä¸‰ä¸ªçœŸå› æ•°ï¼Œå°±ä¼šå¯¼è‡´$z$ä¸æ˜¯ç‰¹æ®Šæ•°å­—ï¼Œå› ä¸º$z$æœ‰3ä¸ªçœŸå› æ•° $\\sqrt{z}$ä¸€å®šä¸ºè´¨æ•°ï¼Œå¦åˆ™$\\sqrt{z}$ä¹Ÿä¼šæœ‰çœŸå› æ•°ï¼Œå°±ä¼šå½±å“$z$æœ¬èº« åŒºé—´[l,r]å†…çš„ç‰¹æ®Šæ•°å­—ä¸ªæ•°ï¼Œå°±æ˜¯[0,r]ç‰¹æ®Šæ•°å­—ä¸ªæ•°å‡å»[0,l-1]ç‰¹æ®Šæ•°å­—ä¸ªæ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 const int MX = 31622; int pi[MX + 1]; auto init = []() { for (int i = 2; i \u0026lt;= MX; i++) { if (pi[i] == 0) { // iä»2å¼€å§‹ içš„å€æ•°å·²ç»è¢«æ ‡è®°ä¸º-1äº† pi[i] = pi[i - 1] + 1; for (int j = i * i; j \u0026lt;= MX; j += i) { pi[j] = -1; } } else { pi[i] = pi[i - 1]; } } return 0; }(); class Solution { public: int nonSpecialCount(int l, int r) { return r - l + 1 - (pi[int(sqrt(r))] - pi[int(sqrt(l - 1))]); } }; æ—¶é—´å¤æ‚åº¦ $O(1)$ ç©ºé—´å¤æ‚åº¦ $O(1)$ ","permalink":"http://localhost:14745/posts/leetcode-3233/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 3233"},{"content":"Leetcode 3240 åŸé¢˜é“¾æ¥\né¢˜ç›®è¦æ±‚æ‰€æœ‰çš„è¡Œå’Œåˆ—éƒ½æ˜¯å›æ–‡ï¼Œåˆé™åˆ¶1çš„ä¸ªæ•°éœ€è¦è¢«4æ•´é™¤ã€‚\nè¡Œåˆ—å‡å›æ–‡å³è¦æ±‚ $$ arr[i][j] = arr[m-1-i][j] = arr[i][n-1-j] = arr[m-1-i][n-1-j] $$ éå†æ•°ç»„ï¼Œè®¡ç®—$cnt1=arr[i][j] + arr[n-1-i][j] + arr[i][n-1-j] + arr[n-1-i][n-1-j]$çš„å’Œï¼Œå’Œå³ä¸º1çš„ä¸ªæ•°ï¼Œå°†$min(result, cnt1)$è®¡å…¥ç»“æœã€‚ å¦‚æœä¸ºå¶æ•°è¡Œå¶æ•°åˆ—ï¼Œæ­¤æ—¶å·²ç»è®¡ç®—å®Œæ¯•ï¼Œåä¹‹ ä¸­å¿ƒå…ƒç´ å¿…é¡»ä¸º0ï¼Œ$result+=arr[m/2][n/2]$, $arr[m/2][n/2]=0$æ—¶ä¸ä¼šè®¡å…¥ä¿®æ”¹æ¬¡æ•°æ‰€ä»¥ç›´æ¥ç›¸åŠ å³å¯ è®¡ç®—ä¸­å¿ƒè¡Œæˆ–ä¸­å¿ƒåˆ—ï¼Œå…ˆè®¡ç®—åŒ¹é…çš„1ä¸ªæ•°ï¼Œè®°ä¸º$cnt$ï¼Œè®¡ç®—éœ€è¦ä¿®æ”¹çš„å¯¹æ•°$diff$ $cnt%4==0$ 1çš„ä¸ªæ•°èƒ½è¢«4æ•´é™¤ï¼Œ$diff$å¯¹å…¨æ”¹ä¸º0ï¼Œè®¡å…¥ç»“æœ $cnt%4==2$ 1çš„ä¸ªæ•°ä¸èƒ½4æ•´é™¤ï¼Œ $diff==0$ï¼Œå°†$cnt%4$ä½™ä¸‹çš„ä¸¤ä¸ªæ”¹ä¸º0å³å¯ï¼Œ$diff!=0$ é€‰æ‹©diffä¸­çš„ä¸€å¯¹æ”¹ä¸º1ï¼Œå…¶ä½™çš„æ”¹ä¸º0å³å¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 class Solution { public: int minFlips(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; grid) { /* grid[i][j]=grid[m-i-1][j] åˆ—ç›¸ç­‰ grid[i][j]=grid[i][n-j-1] è¡Œç›¸ç­‰ grid[i][n-j-1] = grid[m-i-1][n-j-1] */ int m = grid.size(), n = grid[0].size(); int result = 0; for (int i = 0; i \u0026lt; m / 2; i++) { for (int j = 0; j \u0026lt; n / 2; j++) { int cnt1 = grid[i][j] + grid[i][n - 1 - j] + grid[m - 1 - i][j] + grid[m - 1 - i][n - 1 - j]; // è®¡ç®—çš„ç»“æœå°±æ˜¯1çš„ä¸ªæ•°ï¼Œå°†å…¶å˜ä¸º0å³å¯ result += min(cnt1, 4 - cnt1); // å…¨å˜ä¸º1æˆ–å…¨å˜ä¸º0 } } if (m % 2 \u0026amp;\u0026amp; n % 2) { result += grid[m / 2][n / 2]; // ç¡®ä¿ä¸­é—´ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œ+0ä¸ä¼šå˜åŒ–ï¼Œå¦‚æœä¸º1ï¼Œ+1å˜æ¢æ¬¡æ•°+1 } /* å•ç‹¬è®¨è®ºå¥‡æ•°è¡Œå’Œå¥‡æ•°åˆ— é•œåƒä½ç½®å¦‚æœéƒ½ä¸€æ ·ï¼Œèƒ½ä¸æ”¹å°±ä¸æ”¹ï¼Œå…ˆç»Ÿè®¡ä¸æ”¹çš„ä½ç½®æœ‰å¤šå°‘ä¸ª1ï¼Œ è®°ä½œcnt1, éœ€è¦ä¿®æ”¹çš„ä¸ºdiff åˆ†ç±»è®¨è®º cnt1%4 = 0 diffå¯¹å…¨éƒ¨æ”¹ä¸º0 or cnt1%4 = 2 diff\u0026gt;0 é€‰æ‹©ä¸€å¯¹ï¼Œæ”¹ä¸º1 diff==0 é€‰æ‹©åŸæ¥ä¸æ”¹çš„ä¸€å¯¹ï¼Œæ”¹ä¸º0å³å¯ */ // æœ‰å¥‡æ•°è¡Œ int diff = 0, cnt1 = 0; if (m % 2) { for (int i = 0; i \u0026lt; n / 2; i++) { if (grid[m / 2][i] != grid[m / 2][n - 1 - i]) diff++; else cnt1 += grid[m / 2][i] * 2; } } // æœ‰å¥‡æ•°åˆ— if (n % 2) { for (int i = 0; i \u0026lt; m / 2; i++) { if (grid[i][n / 2] != grid[m - 1 - i][n / 2]) diff++; else cnt1 += grid[i][n / 2] * 2; } } // å¦‚æœä¸€è‡´çš„1çš„ä¸ªæ•°èƒ½å¤Ÿæ•´é™¤4 è¿”å› result+diff å³å°†diffä¸­ä¸ä¸º0çš„æ”¹ä¸º0 if (cnt1 % 4 == 0) return result + diff; // å¦‚æœä¸€è‡´çš„1çš„ä¸ªæ•°æ— æ³•æ•´é™¤4 è¿”å› result+(cnt1%4)+diff // å°†æ•´é™¤4ä½™ä¸‹çš„ä¸ªæ•°å…¨æ”¹ä¸º1å³å¯ return result + (diff ? diff : cnt1 % 4); // return result + (diff ? diff : cnt1 % 4); } }; æ—¶é—´å¤æ‚åº¦ éå†æ•°ç»„ï¼Œå¤æ‚åº¦ä¸ºO(m*n) ç©ºé—´å¤æ‚åº¦ åªéœ€è¦å¸¸æ•°é‡çš„å˜é‡å­˜å‚¨ç»“æœï¼Œæ‰€ä»¥æœªO(1) ","permalink":"http://localhost:14745/posts/leetcode-3240/","summary":"leetcode ä¸­ç­‰é¢˜ï¼Œéœ€è¦ä¸€äº›åˆ†æ","title":"Leetcode 3240"},{"content":"leetcode 3243 åŸé¢˜é“¾æ¥ æœ¬é¢˜çš„æ±‚è§£æ€è·¯ä¸ºï¼šæ¨¡æ‹Ÿå³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Solution { public: int finalPositionOfSnake(int n, vector\u0026lt;string\u0026gt;\u0026amp; commands) { int startX = 0, startY = 0; for (auto\u0026amp; command : commands) { if (command == \u0026#34;RIGHT\u0026#34; || command == \u0026#34;LEFT\u0026#34;) startY = startY + (command == \u0026#34;LEFT\u0026#34; ? -1 : 1); else if (command == \u0026#34;UP\u0026#34; || command == \u0026#34;DOWN\u0026#34;) startX = startX + (command == \u0026#34;UP\u0026#34; ? -1 : 1); } return ((startX)*n - 1) + startY + 1; } }; æ—¶é—´å¤æ‚åº¦åˆ†æ éå†commandsæ•°å­—æ—¶é—´å¤æ‚åº¦ä¸ºO(N) ç©ºé—´å¤æ‚åº¦åˆ†æ å¸¸é‡çš„å­˜å‚¨ç©ºé—´ O(1) ","permalink":"http://localhost:14745/posts/leetcode-3248/","summary":"leetcode æ¯æ—¥ä¸€é¢˜ï¼Œç®€å•é¢˜","title":"Leetcode 3248"},{"content":"leetcode 3243 åŸé¢˜é“¾æ¥ æœ¬é¢˜çš„æ±‚è§£æ€è·¯ä¸ºï¼šæ¯æ¬¡æ›´æ–°ä¸€æ¡è¾¹å°±è¦è¿›è¡Œä¸€æ¬¡æ±‚èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class Solution{ private: int bfs(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp;neighbor) { vector\u0026lt;int\u0026gt; dist(n,-1); // å®šä¹‰æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„è·ç¦» queue\u0026lt;int\u0026gt; q; // ç”¨äºbfséå†çš„é˜Ÿåˆ— q.push(0); // å°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ— dist[0]=0; // 0~0 è·ç¦»ä¸º0 while(!q.empty()) { int x = q.front(); // å–å‡ºå½“å‰èµ·ç‚¹ q.pop(); for(auto \u0026amp;y: neighbor[x]) // éå†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ { if(dist[y]!=-1) continue; // å¦‚æœå·²ç»è®¿é—®è¿‡äº†ï¼Œç›´æ¥è·³è¿‡ q.push(y); dist[y] = dist[x]+1; // è®¡ç®—0åˆ°xçš„è·ç¦»ï¼Œ+1 } } return dist[n-1]; } public: vector\u0026lt;int\u0026gt; shortestDistanceAfterQueries(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; queries) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; graph(n); // å®šä¹‰å›¾ vector\u0026lt;int\u0026gt; result; // å®šä¹‰ç»“æœé›† for (int i = 0; i \u0026lt; n - 1; i++) { graph[i].emplace_back(i+1); // å»ºå›¾ } for (auto\u0026amp; query : queries) { graph[query[0]].emplace_back(query[1]); // æ’å…¥è¾¹ result.emplace_back(bfs(n, graph)); // è®¡ç®—å›¾æ›´æ–°åçš„ç»“æœ } return result; } }; æ—¶é—´å¤æ‚åº¦åˆ†æ æ¯æ¬¡æ’å…¥ä¸€æ¡è¾¹ï¼Œéƒ½è¦éå†ä¸€æ¬¡ æ¯æ¬¡bfsï¼Œéƒ½éœ€è¦éå†n+qæ¬¡ æ—¶é—´å¤æ‚åº¦ä¸ºO(q*(n+q)) ç©ºé—´å¤æ‚åº¦åˆ†æ å­˜å‚¨å›¾å’Œç»“æœé›†ï¼Œéœ€è¦O(n+q)çš„ç©ºé—´ ","permalink":"http://localhost:14745/posts/leetcode-3243/","summary":"leetcode æ¯æ—¥ä¸€é¢˜ å›¾çš„bfsæ±‚è§£ ä¸­ç­‰é¢˜","title":"Leetcode 3243"},{"content":"Hello World! This is my first post.\n1 print(\u0026#34;Hello World!\u0026#34;) ","permalink":"http://localhost:14745/posts/my-first-post/","summary":"\u003cp\u003eHello World!\nThis is my first post.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-Python\" data-lang=\"Python\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;Hello World!\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e","title":"My First Post"}]